import{c as V,r as g,j as l,b as W}from"./app-DyN-wpxS.js";import{B as H}from"./button-CdyPjVIa.js";import{a as X,b as Z,c as ee,d as le,D as te,e as se,f as ie}from"./dialog-Y5ccQPmd.js";import{C as P}from"./checkbox-CA68c0MG.js";import{L as q}from"./label-DLKOY3Rp.js";import{S as ae}from"./spinner-B6837COI.js";/* empty css            */import"./index-D0w3UerL.js";import"./index-B9ZEsc9v.js";import"./index-B7_9QI6J.js";import"./index-CNe1fd7B.js";import"./x-lNOBUcxD.js";import"./index-DjGDGm1v.js";import"./index-pm4w21PO.js";import"./loader-circle-B_rqc5mt.js";const oe=[{id:"multiple_choice",label:"Multiple Choice"},{id:"multiple_selection",label:"Multiple Selection"},{id:"true_false",label:"True/False"},{id:"matching",label:"Matching"},{id:"ordering",label:"Ordering"},{id:"numerical_input",label:"Numerical Input"},{id:"essay",label:"Essay"}];function ye(Y){const e=V.c(44),{actionUrl:v,triggerText:I,size:L,variant:M}=Y,R=I===void 0?"Recalculate Score":I,$=L===void 0?"default":L,E=M===void 0?"outline":M,[k,z]=g.useState(!1);let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b=[],e[0]=b):b=e[0];const[i,B]=g.useState(b),[s,j]=g.useState(!0),[a,Q]=g.useState(!1),o=g.useId();let S;e[1]!==v||e[2]!==s||e[3]!==i?(S=()=>{Q(!0);const t=s||i.length===0?"all":i;W.post(v,{question_type:t},{onFinish:()=>{Q(!1),z(!1)}})},e[1]=v,e[2]=s,e[3]=i,e[4]=S):S=e[4];const F=S;let _;e[5]===Symbol.for("react.memo_cache_sentinel")?(_=t=>{B(O=>{if(O.includes(t)){const U=O.filter(K=>K!==t);return U.length===0&&j(!0),U}else return j(!1),[...O,t]})},e[5]=_):_=e[5];const G=_;let y;e[6]===Symbol.for("react.memo_cache_sentinel")?(y=t=>{j(t),t&&B([])},e[6]=y):y=e[6];const J=y;let c;e[7]!==$||e[8]!==R||e[9]!==E?(c=l.jsx(X,{asChild:!0,children:l.jsx(H,{variant:E,size:$,children:R})}),e[7]=$,e[8]=R,e[9]=E,e[10]=c):c=e[10];let N;e[11]===Symbol.for("react.memo_cache_sentinel")?(N=l.jsxs(Z,{children:[l.jsx(ee,{children:"Recalculate Scores"}),l.jsx(le,{children:"Select which question types to recalculate."})]}),e[11]=N):N=e[11];let T;e[12]===Symbol.for("react.memo_cache_sentinel")?(T=l.jsx(q,{className:"font-semibold",children:"Question Types"}),e[12]=T):T=e[12];const w=`all-${o}`;let C;e[13]===Symbol.for("react.memo_cache_sentinel")?(C=t=>J(!!t),e[13]=C):C=e[13];let r;e[14]!==s||e[15]!==w?(r=l.jsx(P,{id:w,checked:s,onCheckedChange:C}),e[14]=s,e[15]=w,e[16]=r):r=e[16];const A=`all-${o}`;let n;e[17]!==A?(n=l.jsx(q,{htmlFor:A,className:"cursor-pointer",children:"All Types"}),e[17]=A,e[18]=n):n=e[18];let m;e[19]!==r||e[20]!==n?(m=l.jsxs("div",{className:"flex items-center space-x-2",children:[r,n]}),e[19]=r,e[20]=n,e[21]=m):m=e[21];let d;e[22]!==s||e[23]!==i||e[24]!==o?(d=oe.map(t=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(P,{id:`${t.id}-${o}`,checked:i.includes(t.id),onCheckedChange:()=>{s&&j(!1),G(t.id)},disabled:s}),l.jsx(q,{htmlFor:`${t.id}-${o}`,className:s?"opacity-50":"",children:t.label})]},t.id)),e[22]=s,e[23]=i,e[24]=o,e[25]=d):d=e[25];let f;e[26]!==d?(f=l.jsx("div",{className:"grid grid-cols-2 gap-3 pl-2",children:d}),e[26]=d,e[27]=f):f=e[27];let h;e[28]!==m||e[29]!==f?(h=l.jsx("div",{className:"grid gap-4 py-4",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[T,m,f]})}),e[28]=m,e[29]=f,e[30]=h):h=e[30];let u;e[31]!==a?(u=a&&l.jsx(ae,{className:"mr-2 h-4 w-4"}),e[31]=a,e[32]=u):u=e[32];let p;e[33]!==F||e[34]!==a||e[35]!==u?(p=l.jsx(te,{children:l.jsxs(H,{type:"button",onClick:F,disabled:a,children:[u,"Recalculate"]})}),e[33]=F,e[34]=a,e[35]=u,e[36]=p):p=e[36];let x;e[37]!==h||e[38]!==p?(x=l.jsxs(se,{className:"sm:max-w-[425px]",children:[N,h,p]}),e[37]=h,e[38]=p,e[39]=x):x=e[39];let D;return e[40]!==k||e[41]!==x||e[42]!==c?(D=l.jsxs(ie,{open:k,onOpenChange:z,children:[c,x]}),e[40]=k,e[41]=x,e[42]=c,e[43]=D):D=e[43],D}export{ye as RecalculateScoreDialog};
