import{c as ge,u as we,r as ie,j as t,L as Ne,H as Ce}from"./app-BL23_ioL.js";import{B as he}from"./button-ErPUhfKM.js";import{b as xe,c as be,C as _e,a as je}from"./card-BPYLlYs-.js";import{I as Se}from"./input-CZPc4iR6.js";import{L as ke}from"./label-CDDyI8HS.js";import{R as ye}from"./RichTextEditor-BBqXt6Vd.js";import{A as qe,b as Te,a as Qe}from"./alert-CQgogwjL.js";import{D as Ee,T as Ae,S as De}from"./ScoreSelector-DIAoZ7CZ.js";import{g as ve,Q as Be,O as Le,I as Me}from"./OptionsEditor-CdB5dEtR.js";import{Q as Oe}from"./QuestionBankController-VWCdcKL6.js";import{Q as Re}from"./QuestionController-D8rxudnx.js";import{A as Ve}from"./arrow-left-DtOF6xQY.js";import{S as He}from"./save-D3ZHDlxg.js";import{C as Ie}from"./circle-alert-Db82dbeJ.js";import{X as Pe}from"./x-Bvzm8Mbo.js";/* empty css            */import"./index-BoQRUedT.js";import"./index-CCL8Hooa.js";import"./checkbox-BB3F9eKw.js";import"./index-DuTHxAZ2.js";import"./index-BzB_uvRg.js";import"./index-Uqd2XL9l.js";import"./select-1dTW8A67.js";import"./index-BdQq_4o_.js";import"./index-CQgWKaQN.js";import"./index-DFAfDP5U.js";import"./index-CneOgjps.js";import"./chevron-down-sjlZp7h5.js";import"./clock-C56MbyDU.js";import"./star-CKh0qepW.js";import"./textarea-L_TQdpuK.js";import"./trash-2-BZUYrCA3.js";import"./plus-BCgrxRhX.js";import"./square-check-big-CfvcNerE.js";import"./style-CnmbGnv_.js";import"./sortable.esm-DG6MMUaM.js";import"./grip-vertical-CIej0FFK.js";import"./index-DW9AIAM8.js";function qt(oe){const e=ge.c(105),{question_bank_id:r,order:le}=oe;let L;e[0]===Symbol.for("react.memo_cache_sentinel")?(L=ve("multiple_choice"),e[0]=L):L=e[0];let M;e[1]!==le||e[2]!==r?(M={question_bank_id:r,content:"",question_type:"multiple_choice",difficulty_level:"sedang",timer:30,score_value:1,options:L,question_media:null,hint:"",order:le},e[1]=le,e[2]=r,e[3]=M):M=e[3];const O=M,{data:s,setData:i,post:ae,processing:re,errors:a}=we(O),[R,fe]=ie.useState(null);let V;e[4]===Symbol.for("react.memo_cache_sentinel")?(V={},e[4]=V):V=e[4];const H=ie.useRef(V);let I;e[5]!==O.options?(I=()=>{H.current.multiple_choice=O.options},e[5]=O.options,e[6]=I):I=e[6];let P;e[7]===Symbol.for("react.memo_cache_sentinel")?(P=[],e[7]=P):P=e[7],ie.useEffect(I,P);let F;e[8]!==s.options||e[9]!==s.question_type||e[10]!==i?(F=o=>{H.current[s.question_type]=s.options;let l;H.current[o]?l=H.current[o]:l=ve(o),i(ue=>({...ue,question_type:o,options:l}))},e[8]=s.options,e[9]=s.question_type,e[10]=i,e[11]=F):F=e[11];const ne=F,[G,B]=ie.useState(null);let U;e[12]!==s.content||e[13]!==s.options||e[14]!==ae?(U=o=>{if(o.preventDefault(),B(null),!s.content||s.content.trim()===""){B("Konten soal wajib diisi."),window.scrollTo({top:0,behavior:"smooth"});return}if(!s.options||s.options.length===0){B("Opsi jawaban harus tersedia."),window.scrollTo({top:0,behavior:"smooth"});return}if(!s.options.some(Fe)){B("Harus ada setidaknya satu kunci jawaban yang dipilih."),window.scrollTo({top:0,behavior:"smooth"});return}ae(Re.store().url,{forceFormData:!0,onError:()=>{B("Terjadi kesalahan saat menyimpan. Periksa kembali inputan anda.")}})},e[12]=s.content,e[13]=s.options,e[14]=ae,e[15]=U):U=e[15];const ce=U;let z;e[16]!==i?(z=o=>{const l=o.target.files?.[0];if(l){i("question_media",l);const ue=URL.createObjectURL(l);fe(ue)}},e[16]=i,e[17]=z):z=e[17];const me=z;let K;e[18]!==i?(K=()=>{i("question_media",null),fe(null)},e[18]=i,e[19]=K):K=e[19];const pe=K;let J;e[20]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(Ce,{title:"Buat Soal Baru"}),e[20]=J):J=e[20];let n;e[21]!==r?(n=Oe.edit(r),e[21]=r,e[22]=n):n=e[22];let X;e[23]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(Ve,{className:"h-4 w-4"}),e[23]=X):X=e[23];let c;e[24]!==n.url?(c=t.jsx(Ne,{href:n.url,className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 w-9",children:X}),e[24]=n.url,e[25]=c):c=e[25];let $;e[26]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("div",{className:"h-6 w-px bg-border mx-2"}),e[26]=$):$=e[26];let m;e[27]!==s.question_type||e[28]!==ne?(m=t.jsx(Be,{value:s.question_type,onValueChange:ne}),e[27]=s.question_type,e[28]=ne,e[29]=m):m=e[29];let p;e[30]!==i?(p=o=>i("difficulty_level",o),e[30]=i,e[31]=p):p=e[31];let d;e[32]!==s.difficulty_level||e[33]!==p?(d=t.jsx(Ee,{value:s.difficulty_level,onValueChange:p}),e[32]=s.difficulty_level,e[33]=p,e[34]=d):d=e[34];let u;e[35]!==i?(u=o=>i("timer",o),e[35]=i,e[36]=u):u=e[36];let f;e[37]!==s.timer||e[38]!==u?(f=t.jsx(Ae,{value:s.timer,onValueChange:u}),e[37]=s.timer,e[38]=u,e[39]=f):f=e[39];let h;e[40]!==i?(h=o=>i("score_value",o),e[40]=i,e[41]=h):h=e[41];let x;e[42]!==s.score_value||e[43]!==h?(x=t.jsx(De,{value:s.score_value,onValueChange:h}),e[42]=s.score_value,e[43]=h,e[44]=x):x=e[44];let b;e[45]!==m||e[46]!==d||e[47]!==f||e[48]!==x?(b=t.jsxs("div",{className:"flex items-center gap-2 flex-1 overflow-x-auto pb-1 md:pb-0",children:[m,d,f,x]}),e[45]=m,e[46]=d,e[47]=f,e[48]=x,e[49]=b):b=e[49];let W;e[50]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(He,{className:"h-4 w-4"}),e[50]=W):W=e[50];let _;e[51]!==re||e[52]!==ce?(_=t.jsxs(he,{onClick:ce,disabled:re,className:"gap-2",children:[W,"Simpan"]}),e[51]=re,e[52]=ce,e[53]=_):_=e[53];let j;e[54]!==c||e[55]!==b||e[56]!==_?(j=t.jsxs("div",{className:"sticky top-0 z-30 flex h-16 items-center gap-4 border-b bg-background px-6 shadow-sm",children:[c,$,b,_]}),e[54]=c,e[55]=b,e[56]=_,e[57]=j):j=e[57];let y;e[58]!==G?(y=G&&t.jsxs(qe,{variant:"destructive",children:[t.jsx(Ie,{className:"h-4 w-4"}),t.jsx(Te,{children:"Error Validasi"}),t.jsx(Qe,{children:G})]}),e[58]=G,e[59]=y):y=e[59];let Y;e[60]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(xe,{children:t.jsx(be,{className:"text-lg",children:"Konten Soal"})}),e[60]=Y):Y=e[60];let v;e[61]!==i?(v=o=>i("content",o),e[61]=i,e[62]=v):v=e[62];let g;e[63]!==s.content||e[64]!==v?(g=t.jsx(ye,{value:s.content,onChange:v,placeholder:"Tuliskan pertanyaan di sini...",className:"min-h-[120px]"}),e[63]=s.content,e[64]=v,e[65]=g):g=e[65];let w;e[66]!==a.content?(w=a.content&&t.jsx("p",{className:"text-red-500 text-sm",children:a.content}),e[66]=a.content,e[67]=w):w=e[67];let Z;e[68]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(ke,{children:"Media / Gambar (Opsional)"}),e[68]=Z):Z=e[68];let N;e[69]!==R||e[70]!==pe?(N=R?t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:R,alt:"Preview",className:"h-40 w-auto object-contain rounded-md border bg-muted"}),t.jsx(he,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:pe,children:t.jsx(Pe,{className:"h-3 w-3"})})]}):t.jsx("div",{className:"h-40 w-40 flex items-center justify-center rounded-md border border-dashed bg-muted/50 text-muted-foreground",children:t.jsx(Me,{className:"h-10 w-10 opacity-50"})}),e[69]=R,e[70]=pe,e[71]=N):N=e[71];let C;e[72]!==me?(C=t.jsx(Se,{type:"file",accept:"image/*",onChange:me,className:"max-w-xs"}),e[72]=me,e[73]=C):C=e[73];let ee;e[74]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: JPG, PNG, GIF. Maks: 2MB."}),e[74]=ee):ee=e[74];let S;e[75]!==C?(S=t.jsxs("div",{className:"space-y-2",children:[C,ee]}),e[75]=C,e[76]=S):S=e[76];let k;e[77]!==N||e[78]!==S?(k=t.jsxs("div",{className:"space-y-2",children:[Z,t.jsxs("div",{className:"flex items-start gap-4",children:[N,S]})]}),e[77]=N,e[78]=S,e[79]=k):k=e[79];let q;e[80]!==g||e[81]!==w||e[82]!==k?(q=t.jsxs(_e,{className:"border-primary/10 shadow-md",children:[Y,t.jsxs(je,{className:"space-y-4",children:[g,w,k]})]}),e[80]=g,e[81]=w,e[82]=k,e[83]=q):q=e[83];let te;e[84]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(xe,{children:t.jsx(be,{className:"text-lg",children:"Hint (Bantuan)"})}),e[84]=te):te=e[84];const de=s.hint||"";let T;e[85]!==i?(T=o=>i("hint",o),e[85]=i,e[86]=T):T=e[86];let Q;e[87]!==de||e[88]!==T?(Q=t.jsxs(_e,{className:"border-primary/10 shadow-md",children:[te,t.jsx(je,{className:"space-y-4",children:t.jsx(ye,{value:de,onChange:T,placeholder:"Tuliskan hint atau bantuan untuk siswa di sini (opsional)...",className:"min-h-[80px]"})})]}),e[87]=de,e[88]=T,e[89]=Q):Q=e[89];let E;e[90]!==i?(E=o=>i("options",o),e[90]=i,e[91]=E):E=e[91];let A;e[92]!==s.options||e[93]!==s.question_type||e[94]!==a||e[95]!==E?(A=t.jsx(Le,{type:s.question_type,options:s.options,onChange:E,errors:a}),e[92]=s.options,e[93]=s.question_type,e[94]=a,e[95]=E,e[96]=A):A=e[96];let D;e[97]!==y||e[98]!==q||e[99]!==Q||e[100]!==A?(D=t.jsxs("div",{className:"flex-1 overflow-auto p-6 space-y-6 max-w-5xl mx-auto w-full",children:[y,q,Q,A]}),e[97]=y,e[98]=q,e[99]=Q,e[100]=A,e[101]=D):D=e[101];let se;return e[102]!==j||e[103]!==D?(se=t.jsxs("div",{className:"min-h-screen bg-muted/40 flex flex-col",children:[J,j,D]}),e[102]=j,e[103]=D,e[104]=se):se=e[104],se}function Fe(oe){return oe.is_correct}export{qt as default};
