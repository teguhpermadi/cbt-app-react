import{c as me,r as le,u as ae,j as r}from"./app-BL23_ioL.js";import{b as ce,c as he,d as fe,D as pe,e as ye,f as xe}from"./dialog-CUguBIrB.js";import{c as ge,B as Z}from"./button-ErPUhfKM.js";import{I as je}from"./input-CZPc4iR6.js";import{L as _e}from"./label-CDDyI8HS.js";import{A as be,b as Qe,a as Se}from"./alert-CQgogwjL.js";import{q as f,a as O}from"./index-DW9AIAM8.js";import{D as Ae}from"./download-LHYMOdt-.js";import{C as oe}from"./circle-alert-Db82dbeJ.js";import{C as qe}from"./circle-check-big-Y3jfL0jT.js";const Ne=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],De=ge("FileSpreadsheet",Ne),o=e=>({url:o.url(e),method:"get"});o.definition={methods:["get","head"],url:"/admin/students/import/template"};o.url=e=>o.definition.url+f(e);o.get=e=>({url:o.url(e),method:"get"});o.head=e=>({url:o.url(e),method:"head"});const G=e=>({action:o.url(e),method:"get"});G.get=e=>({action:o.url(e),method:"get"});G.head=e=>({action:o.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});o.form=G;const l=e=>({url:l.url(e),method:"get"});l.definition={methods:["get","head"],url:"/admin/students/export"};l.url=e=>l.definition.url+f(e);l.get=e=>({url:l.url(e),method:"get"});l.head=e=>({url:l.url(e),method:"head"});const J=e=>({action:l.url(e),method:"get"});J.get=e=>({action:l.url(e),method:"get"});J.head=e=>({action:l.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});l.form=J;const a=e=>({url:a.url(e),method:"post"});a.definition={methods:["post"],url:"/admin/students/import"};a.url=e=>a.definition.url+f(e);a.post=e=>({url:a.url(e),method:"post"});const de=e=>({action:a.url(e),method:"post"});de.post=e=>({action:a.url(e),method:"post"});a.form=de;const d=e=>({url:d.url(e),method:"get"});d.definition={methods:["get","head"],url:"/admin/students/create"};d.url=e=>d.definition.url+f(e);d.get=e=>({url:d.url(e),method:"get"});d.head=e=>({url:d.url(e),method:"head"});const K=e=>({action:d.url(e),method:"get"});K.get=e=>({action:d.url(e),method:"get"});K.head=e=>({action:d.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});d.form=K;const c=e=>({url:c.url(e),method:"post"});c.definition={methods:["post"],url:"/admin/students"};c.url=e=>c.definition.url+f(e);c.post=e=>({url:c.url(e),method:"post"});const ne=e=>({action:c.url(e),method:"post"});ne.post=e=>({action:c.url(e),method:"post"});c.form=ne;const n=(e,t)=>({url:n.url(e,t),method:"get"});n.definition={methods:["get","head"],url:"/admin/students/{student}/edit"};n.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={student:e}),Array.isArray(e)&&(e={student:e[0]}),e=O(e);const m={student:e.student};return n.definition.url.replace("{student}",m.student.toString()).replace(/\/+$/,"")+f(t)};n.get=(e,t)=>({url:n.url(e,t),method:"get"});n.head=(e,t)=>({url:n.url(e,t),method:"head"});const W=(e,t)=>({action:n.url(e,t),method:"get"});W.get=(e,t)=>({action:n.url(e,t),method:"get"});W.head=(e,t)=>({action:n.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});n.form=W;const s=(e,t)=>({url:s.url(e,t),method:"put"});s.definition={methods:["put","patch"],url:"/admin/students/{student}"};s.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={student:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={student:e.id}),Array.isArray(e)&&(e={student:e[0]}),e=O(e);const m={student:typeof e.student=="object"?e.student.id:e.student};return s.definition.url.replace("{student}",m.student.toString()).replace(/\/+$/,"")+f(t)};s.put=(e,t)=>({url:s.url(e,t),method:"put"});s.patch=(e,t)=>({url:s.url(e,t),method:"patch"});const X=(e,t)=>({action:s.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...t?.query??t?.mergeQuery??{}}}),method:"post"});X.put=(e,t)=>({action:s.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...t?.query??t?.mergeQuery??{}}}),method:"post"});X.patch=(e,t)=>({action:s.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});s.form=X;const h=(e,t)=>({url:h.url(e,t),method:"delete"});h.definition={methods:["delete"],url:"/admin/students/{student}"};h.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={student:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={student:e.id}),Array.isArray(e)&&(e={student:e[0]}),e=O(e);const m={student:typeof e.student=="object"?e.student.id:e.student};return h.definition.url.replace("{student}",m.student.toString()).replace(/\/+$/,"")+f(t)};h.delete=(e,t)=>({url:h.url(e,t),method:"delete"});const se=(e,t)=>({action:h.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});se.delete=(e,t)=>({action:h.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});h.form=se;const u=e=>({url:u.url(e),method:"get"});u.definition={methods:["get","head"],url:"/admin/students"};u.url=e=>u.definition.url+f(e);u.get=e=>({url:u.url(e),method:"get"});u.head=e=>({url:u.url(e),method:"head"});const Y=e=>({action:u.url(e),method:"get"});Y.get=e=>({action:u.url(e),method:"get"});Y.head=e=>({action:u.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});u.form=Y;const i=(e,t)=>({url:i.url(e,t),method:"get"});i.definition={methods:["get","head"],url:"/admin/students/{student}"};i.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={student:e}),Array.isArray(e)&&(e={student:e[0]}),e=O(e);const m={student:e.student};return i.definition.url.replace("{student}",m.student.toString()).replace(/\/+$/,"")+f(t)};i.get=(e,t)=>({url:i.url(e,t),method:"get"});i.head=(e,t)=>({url:i.url(e,t),method:"head"});const ee=(e,t)=>({action:i.url(e,t),method:"get"});ee.get=(e,t)=>({action:i.url(e,t),method:"get"});ee.head=(e,t)=>({action:i.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});i.form=ee;const ue={downloadTemplate:o,exportMethod:l,storeImport:a,create:d,store:c,edit:n,update:s,destroy:h,index:u,show:i,export:l};function Ee(e){const t=me.c(41),{isOpen:m,onClose:p}=e,[y,te]=le.useState(null),[D,N]=le.useState(null);let E;t[0]===Symbol.for("react.memo_cache_sentinel")?(E={file:null},t[0]=E):E=t[0];const x=ae(E);let w;t[1]===Symbol.for("react.memo_cache_sentinel")?(w=$=>{const re=$.target.files?.[0];re&&(te(re),N(null))},t[1]=w):w=t[1];const ie=w;let F;t[2]!==y||t[3]!==x||t[4]!==p?(F=()=>{if(!y){N("Please select a file to import.");return}x.setData("file",y),x.post(ue.storeImport.url(),{forceFormData:!0,onSuccess:()=>{p(),te(null),N(null),x.reset()},onError:$=>{$.file?N($.file):N("An error occurred during import. Please try again.")}})},t[2]=y,t[3]=x,t[4]=p,t[5]=F):F=t[5];const B=F;let k;t[6]===Symbol.for("react.memo_cache_sentinel")?(k=r.jsxs(ce,{children:[r.jsxs(he,{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(De,{className:"size-5 text-green-600"}),"Import Students from Excel"]}),r.jsx(fe,{children:"Upload an Excel file (.xlsx) to import students. Required columns: Name, Username, Email. Password (optional, default: password123)."})]}),t[6]=k):k=t[6];let C,v;t[7]===Symbol.for("react.memo_cache_sentinel")?(C=r.jsx(_e,{htmlFor:"excel-file",className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Select File"}),v=r.jsx(je,{id:"excel-file",type:"file",accept:".xlsx, .xls",onChange:ie,className:"rounded-xl h-11 border-slate-200"}),t[7]=C,t[8]=v):(C=t[7],v=t[8]);let g;t[9]!==y?(g=y&&r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Selected: ",r.jsx("span",{className:"font-medium",children:y.name})]}),t[9]=y,t[10]=g):g=t[10];let j;t[11]!==g?(j=r.jsx("div",{className:"flex gap-4 items-end",children:r.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[C,v,g]})}),t[11]=g,t[12]=j):j=t[12];let I;t[13]===Symbol.for("react.memo_cache_sentinel")?(I=r.jsxs(Z,{variant:"outline",className:"rounded-xl h-11 border-slate-200 shadow-sm gap-2 w-full",onClick:we,children:[r.jsx(Ae,{className:"size-4"}),"Download Template"]}),t[13]=I):I=t[13];let _;t[14]!==D?(_=D&&r.jsxs(be,{variant:"destructive",className:"rounded-xl",children:[r.jsx(oe,{className:"h-4 w-4"}),r.jsx(Qe,{children:"Error"}),r.jsx(Se,{children:D})]}),t[14]=D,t[15]=_):_=t[15];let T;t[16]===Symbol.for("react.memo_cache_sentinel")?(T=r.jsx(oe,{className:"size-5 text-blue-600 mt-0.5 flex-shrink-0"}),t[16]=T):T=t[16];let M;t[17]===Symbol.for("react.memo_cache_sentinel")?(M=r.jsx("p",{className:"font-bold text-slate-900 dark:text-slate-100",children:"Important:"}),t[17]=M):M=t[17];let H;t[18]===Symbol.for("react.memo_cache_sentinel")?(H=r.jsx("strong",{children:"Name"}),t[18]=H):H=t[18];let P;t[19]===Symbol.for("react.memo_cache_sentinel")?(P=r.jsx("strong",{children:"Username"}),t[19]=P):P=t[19];let z;t[20]===Symbol.for("react.memo_cache_sentinel")?(z=r.jsx("div",{className:"border rounded-xl p-4 bg-slate-50 dark:bg-slate-900",children:r.jsxs("div",{className:"flex items-start gap-3",children:[T,r.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[M,r.jsxs("ul",{className:"list-disc list-inside space-y-0.5",children:[r.jsxs("li",{children:["Ensure your Excel file has the headers: ",H,", ",P,", ",r.jsx("strong",{children:"Email"})]}),r.jsx("li",{children:"Password column is optional (default: password123)"}),r.jsx("li",{children:"Download the template for the correct format"})]})]})]})}),t[20]=z):z=t[20];let b;t[21]!==_||t[22]!==j?(b=r.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[j,I,_,z]}),t[21]=_,t[22]=j,t[23]=b):b=t[23];let Q;t[24]!==p?(Q=r.jsx(Z,{variant:"outline",onClick:p,className:"rounded-xl h-11",children:"Cancel"}),t[24]=p,t[25]=Q):Q=t[25];const R=!y||x.processing,V=x.processing?"Importing...":"Import Students";let U;t[26]===Symbol.for("react.memo_cache_sentinel")?(U=r.jsx(qe,{className:"size-4"}),t[26]=U):U=t[26];let S;t[27]!==B||t[28]!==R||t[29]!==V?(S=r.jsxs(Z,{onClick:B,className:"rounded-xl h-11 bg-primary font-bold shadow-lg shadow-primary/20 gap-2",disabled:R,children:[V,U]}),t[27]=B,t[28]=R,t[29]=V,t[30]=S):S=t[30];let A;t[31]!==Q||t[32]!==S?(A=r.jsxs(pe,{children:[Q,S]}),t[31]=Q,t[32]=S,t[33]=A):A=t[33];let q;t[34]!==b||t[35]!==A?(q=r.jsxs(ye,{className:"sm:max-w-[500px] rounded-3xl border-none shadow-2xl",children:[k,b,A]}),t[34]=b,t[35]=A,t[36]=q):q=t[36];let L;return t[37]!==m||t[38]!==p||t[39]!==q?(L=r.jsx(xe,{open:m,onOpenChange:p,children:q}),t[37]=m,t[38]=p,t[39]=q,t[40]=L):L=t[40],L}function we(){return window.location.href=ue.downloadTemplate.url()}const Ue=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"}));export{De as F,Ee as I,ue as S,Ue as i};
