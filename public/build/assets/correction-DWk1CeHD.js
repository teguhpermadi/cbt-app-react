import{c as M,j as i,H as P,b as V}from"./app-DyN-wpxS.js";import{A as q}from"./app-layout-C58rGwN3.js";import{B as z}from"./button-CdyPjVIa.js";import{T as D,a as F,b as O,c as U}from"./tabs-i5_n7GeR.js";import{a as G}from"./index-BJQ9hJz-.js";import{E as H}from"./ExamController-DtW2Bo6_.js";import{RecalculateScoreDialog as I}from"./recalculate-score-dialog-B6lruZ4H.js";import{E as J}from"./exam-result-view-Bx39oCnt.js";import{A as K}from"./arrow-left-C3VA2XrV.js";/* empty css            */import"./app-sidebar-layout-C8FOlvLm.js";import"./app-shell-6BFfOcnH.js";import"./sheet-y5P-CDkj.js";import"./index-D0w3UerL.js";import"./index-B9ZEsc9v.js";import"./index-B7_9QI6J.js";import"./index-CNe1fd7B.js";import"./x-lNOBUcxD.js";import"./index-CUOTptWl.js";import"./index-pm4w21PO.js";import"./dropdown-menu-CH8bgok8.js";import"./index-CSsDPExf.js";import"./index-NYQbQWWo.js";import"./avatar-Dxh06ktP.js";import"./index-Bw4bqpEh.js";import"./index-63gOiuA7.js";import"./index-DW9AIAM8.js";import"./settings-DKL5Z4ZW.js";import"./app-logo-icon-CWkTiFRl.js";import"./users-dzkjvZFo.js";import"./book-open-BtSWFqp8.js";import"./calendar-Dv_Vlma7.js";import"./chevron-right-DEq6pfqI.js";import"./index-C3I_bb3G.js";import"./index-yhcnWxNZ.js";import"./dialog-Y5ccQPmd.js";import"./checkbox-CA68c0MG.js";import"./index-DjGDGm1v.js";import"./label-DLKOY3Rp.js";import"./spinner-B6837COI.js";import"./loader-circle-B_rqc5mt.js";import"./card-C6hf_ydR.js";import"./badge-DvMEEYXx.js";import"./table-DFRK7ino.js";import"./PreviewStudentAnswer-gIHWKapn.js";import"./MathRenderer-DYpDUqD8.js";import"./circle-check-VDgprh3j.js";import"./circle-x-BqcflfMS.js";import"./square-D7hxKJse.js";import"./square-check-big-NwfVi49y.js";import"./style-B2nCtcBB.js";import"./RichTextEditor-DBZWqaZR.js";import"./input-x6uegPVQ.js";import"./index-CapzP1wJ.js";import"./chart-column-BF3lQnEw.js";import"./circle-check-big-CNEvCFP_.js";import"./circle-help-C6OpJQHw.js";function tt(r){const e=M.c(55),{session:t,all_sessions:C,analysis:E,norm_reference:A,leaderboard:T,questions:R,total_score:k}=r;let N;e[0]===Symbol.for("react.memo_cache_sentinel")?(N={title:"Exam Management",href:G.url()},e[0]=N):N=e[0];const L=`/admin/exams/${t.exam_id}/monitor`;let s;e[1]!==L?(s={title:"Monitor",href:L},e[1]=L,e[2]=s):s=e[2];let v;e[3]===Symbol.for("react.memo_cache_sentinel")?(v={title:"Correction",href:"#"},e[3]=v):v=e[3];let w;e[4]!==s?(w=[N,s,v],e[4]=s,e[5]=w):w=e[5];const $=w,B=`Correction - ${t.user.name}`;let o;e[6]!==B?(o=i.jsx(P,{title:B}),e[6]=B,e[7]=o):o=e[7];let y;e[8]===Symbol.for("react.memo_cache_sentinel")?(y=i.jsx(z,{variant:"outline",size:"icon",onClick:X,children:i.jsx(K,{className:"h-4 w-4"})}),e[8]=y):y=e[8];let l;e[9]!==t.user.name?(l=i.jsxs("h1",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-slate-100",children:["Correction: ",t.user.name]}),e[9]=t.user.name,e[10]=l):l=e[10];let a;e[11]!==t.exam.title?(a=i.jsxs("p",{className:"text-muted-foreground font-medium",children:["Review and grade student answers for ",t.exam.title,"."]}),e[11]=t.exam.title,e[12]=a):a=e[12];let m;e[13]!==a||e[14]!==l?(m=i.jsxs("div",{className:"flex-1",children:[l,a]}),e[13]=a,e[14]=l,e[15]=m):m=e[15];let n;e[16]!==t.id?(n=H.calculateScores(t.id),e[16]=t.id,e[17]=n):n=e[17];let p;e[18]!==n?(p=i.jsx(I,{actionUrl:n}),e[18]=n,e[19]=p):p=e[19];let c;e[20]!==m||e[21]!==p?(c=i.jsxs("div",{className:"flex items-center gap-4",children:[y,m,p]}),e[20]=m,e[21]=p,e[22]=c):c=e[22];let d;e[23]!==t.id?(d=t.id.toString(),e[23]=t.id,e[24]=d):d=e[24];let f;e[25]!==C||e[26]!==t?(f=C||[t],e[25]=C,e[26]=t,e[27]=f):f=e[27];let x;e[28]!==f?(x=f.map(Q),e[28]=f,e[29]=x):x=e[29];let u;e[30]!==x?(u=i.jsx("div",{className:"w-full overflow-x-auto pb-2",children:i.jsx(D,{className:"w-full flex h-auto p-1 bg-muted/40 rounded-lg justify-start gap-2",children:x})}),e[30]=x,e[31]=u):u=e[31];let h;e[32]!==t.id?(h=t.id.toString(),e[32]=t.id,e[33]=h):h=e[33];let g;e[34]!==E||e[35]!==T||e[36]!==A||e[37]!==R||e[38]!==t||e[39]!==k?(g=i.jsx(J,{exam:t.exam,session:t,questions:R,total_score:k,analysis:E,norm_reference:A,leaderboard:T}),e[34]=E,e[35]=T,e[36]=A,e[37]=R,e[38]=t,e[39]=k,e[40]=g):g=e[40];let _;e[41]!==h||e[42]!==g?(_=i.jsx(F,{value:h,className:"mt-6",children:g}),e[41]=h,e[42]=g,e[43]=_):_=e[43];let j;e[44]!==d||e[45]!==u||e[46]!==_?(j=i.jsxs(O,{value:d,onValueChange:W,className:"w-full",children:[u,_]}),e[44]=d,e[45]=u,e[46]=_,e[47]=j):j=e[47];let b;e[48]!==c||e[49]!==j?(b=i.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[c,j]}),e[48]=c,e[49]=j,e[50]=b):b=e[50];let S;return e[51]!==$||e[52]!==b||e[53]!==o?(S=i.jsxs(q,{breadcrumbs:$,children:[o,b]}),e[51]=$,e[52]=b,e[53]=o,e[54]=S):S=e[54],S}function Q(r){return i.jsxs(U,{value:r.id.toString(),className:"flex flex-col items-start gap-1 py-2 px-4 h-auto data-[state=active]:bg-white data-[state=active]:shadow-sm rounded-md transition-all",children:[i.jsxs("span",{className:"font-semibold",children:["Attempt #",r.attempt_number]}),i.jsxs("div",{className:"flex items-center gap-2",children:[r.is_finished?i.jsxs("span",{className:"text-[10px] text-muted-foreground bg-green-100 text-green-800 px-1.5 py-0.5 rounded-full",children:["Score: ",r.exam_result?.final_score!=null?r.exam_result.final_score:r.final_score!=null?r.final_score:"-"]}):i.jsx("span",{className:"text-[10px] text-muted-foreground bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded-full",children:"Ongoing"}),i.jsx("span",{className:"text-[10px] text-muted-foreground",children:r.exam_result?.is_passed?"Passed":r.is_finished?"Failed":"Active"})]})]},r.id)}function W(r){return V.visit(H.correction({session:r}).url)}function X(){return window.history.back()}export{tt as default};
