import{r as x,j as t,R as h,c as ue,a as rt,b as _e,H as ot}from"./app-BL23_ioL.js";import{A as ct}from"./app-layout-CDpq751G.js";import{C as V,a as G,b as U,c as z,d as dt}from"./card-BPYLlYs-.js";import{B as Ne}from"./badge-J0MIFrA3.js";import{T as mt,a as xt,b as Ee,c as S,d as pt,e as I}from"./table-DCctSBnV.js";import{c as Me,u as Be,a as we,B as ye}from"./button-ErPUhfKM.js";import{R as ut}from"./RichTextEditor-BBqXt6Vd.js";import{c as Oe,a as $e,u as Ae,P as ft,b as ht}from"./index-DuTHxAZ2.js";import{c as gt,u as bt}from"./index-CQgWKaQN.js";import{P as J}from"./index-BoQRUedT.js";import{u as He}from"./index-DFAfDP5U.js";import{C as jt}from"./chevron-down-sjlZp7h5.js";import{T as vt,a as Nt,b as yt,c as _t}from"./app-shell-jJUctm17.js";import{R as Ct}from"./refresh-cw-5teAx7Zi.js";import{A as De}from"./arrow-left-DtOF6xQY.js";/* empty css            */import"./app-sidebar-layout-BQteZuDl.js";import"./dropdown-menu-CNt4bR-q.js";import"./index-CneOgjps.js";import"./index-Uqd2XL9l.js";import"./index-e0nZHYEA.js";import"./index-CCL8Hooa.js";import"./index-63gOiuA7.js";import"./index-DW9AIAM8.js";import"./settings-xNbhH6pj.js";import"./index-63p2o9N5.js";import"./index-C3I_bb3G.js";import"./index-CO7HXDK1.js";import"./app-logo-icon-Cc_kpyVd.js";import"./users-BFSadU9h.js";import"./calendar-DOhSzEfG.js";import"./input-CZPc4iR6.js";import"./x-Bvzm8Mbo.js";import"./checkbox-BB3F9eKw.js";import"./index-BzB_uvRg.js";import"./sheet-CAKOvksQ.js";import"./index-CuzgK42c.js";const wt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],At=Me("Info",wt);const kt=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Rt=Me("Play",kt);var fe="Collapsible",[St,Le]=Oe(fe),[It,ke]=St(fe),Ke=x.forwardRef((n,e)=>{const{__scopeCollapsible:s,open:a,defaultOpen:l,disabled:i,onOpenChange:r,...o}=n,[c,m]=Ae({prop:a,defaultProp:l??!1,onChange:r,caller:fe});return t.jsx(It,{scope:s,disabled:i,contentId:He(),open:c,onOpenToggle:x.useCallback(()=>m(p=>!p),[m]),children:t.jsx(J.div,{"data-state":Se(c),"data-disabled":i?"":void 0,...o,ref:e})})});Ke.displayName=fe;var Fe="CollapsibleTrigger",qe=x.forwardRef((n,e)=>{const{__scopeCollapsible:s,...a}=n,l=ke(Fe,s);return t.jsx(J.button,{type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":Se(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled,...a,ref:e,onClick:$e(n.onClick,l.onOpenToggle)})});qe.displayName=Fe;var Re="CollapsibleContent",Ve=x.forwardRef((n,e)=>{const{forceMount:s,...a}=n,l=ke(Re,n.__scopeCollapsible);return t.jsx(ft,{present:s||l.open,children:({present:i})=>t.jsx(Pt,{...a,ref:e,present:i})})});Ve.displayName=Re;var Pt=x.forwardRef((n,e)=>{const{__scopeCollapsible:s,present:a,children:l,...i}=n,r=ke(Re,s),[o,c]=x.useState(a),m=x.useRef(null),p=Be(e,m),f=x.useRef(0),w=f.current,_=x.useRef(0),P=_.current,C=r.open||o,g=x.useRef(C),b=x.useRef(void 0);return x.useEffect(()=>{const d=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(d)},[]),ht(()=>{const d=m.current;if(d){b.current=b.current||{transitionDuration:d.style.transitionDuration,animationName:d.style.animationName},d.style.transitionDuration="0s",d.style.animationName="none";const j=d.getBoundingClientRect();f.current=j.height,_.current=j.width,g.current||(d.style.transitionDuration=b.current.transitionDuration,d.style.animationName=b.current.animationName),c(a)}},[r.open,a]),t.jsx(J.div,{"data-state":Se(r.open),"data-disabled":r.disabled?"":void 0,id:r.contentId,hidden:!C,...i,ref:p,style:{"--radix-collapsible-content-height":w?`${w}px`:void 0,"--radix-collapsible-content-width":P?`${P}px`:void 0,...n.style},children:C&&l})});function Se(n){return n?"open":"closed"}var Tt=Ke,Et=qe,Dt=Ve,v="Accordion",Mt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Ie,Bt,Ot]=gt(v),[he,$s]=Oe(v,[Ot,Le]),Pe=Le(),Ge=h.forwardRef((n,e)=>{const{type:s,...a}=n,l=a,i=a;return t.jsx(Ie.Provider,{scope:n.__scopeAccordion,children:s==="multiple"?t.jsx(Kt,{...i,ref:e}):t.jsx(Lt,{...l,ref:e})})});Ge.displayName=v;var[Ue,$t]=he(v),[ze,Ht]=he(v,{collapsible:!1}),Lt=h.forwardRef((n,e)=>{const{value:s,defaultValue:a,onValueChange:l=()=>{},collapsible:i=!1,...r}=n,[o,c]=Ae({prop:s,defaultProp:a??"",onChange:l,caller:v});return t.jsx(Ue,{scope:n.__scopeAccordion,value:h.useMemo(()=>o?[o]:[],[o]),onItemOpen:c,onItemClose:h.useCallback(()=>i&&c(""),[i,c]),children:t.jsx(ze,{scope:n.__scopeAccordion,collapsible:i,children:t.jsx(Je,{...r,ref:e})})})}),Kt=h.forwardRef((n,e)=>{const{value:s,defaultValue:a,onValueChange:l=()=>{},...i}=n,[r,o]=Ae({prop:s,defaultProp:a??[],onChange:l,caller:v}),c=h.useCallback(p=>o((f=[])=>[...f,p]),[o]),m=h.useCallback(p=>o((f=[])=>f.filter(w=>w!==p)),[o]);return t.jsx(Ue,{scope:n.__scopeAccordion,value:r,onItemOpen:c,onItemClose:m,children:t.jsx(ze,{scope:n.__scopeAccordion,collapsible:!0,children:t.jsx(Je,{...i,ref:e})})})}),[Ft,ge]=he(v),Je=h.forwardRef((n,e)=>{const{__scopeAccordion:s,disabled:a,dir:l,orientation:i="vertical",...r}=n,o=h.useRef(null),c=Be(o,e),m=Bt(s),f=bt(l)==="ltr",w=$e(n.onKeyDown,_=>{if(!Mt.includes(_.key))return;const P=_.target,C=m().filter(k=>!k.ref.current?.disabled),g=C.findIndex(k=>k.ref.current===P),b=C.length;if(g===-1)return;_.preventDefault();let d=g;const j=0,N=b-1,R=()=>{d=g+1,d>N&&(d=j)},y=()=>{d=g-1,d<j&&(d=N)};switch(_.key){case"Home":d=j;break;case"End":d=N;break;case"ArrowRight":i==="horizontal"&&(f?R():y());break;case"ArrowDown":i==="vertical"&&R();break;case"ArrowLeft":i==="horizontal"&&(f?y():R());break;case"ArrowUp":i==="vertical"&&y();break}const A=d%b;C[A].ref.current?.focus()});return t.jsx(Ft,{scope:s,disabled:a,direction:l,orientation:i,children:t.jsx(Ie.Slot,{scope:s,children:t.jsx(J.div,{...r,"data-orientation":i,ref:c,onKeyDown:a?void 0:w})})})}),pe="AccordionItem",[qt,Te]=he(pe),Qe=h.forwardRef((n,e)=>{const{__scopeAccordion:s,value:a,...l}=n,i=ge(pe,s),r=$t(pe,s),o=Pe(s),c=He(),m=a&&r.value.includes(a)||!1,p=i.disabled||n.disabled;return t.jsx(qt,{scope:s,open:m,disabled:p,triggerId:c,children:t.jsx(Tt,{"data-orientation":i.orientation,"data-state":tt(m),...o,...l,ref:e,disabled:p,open:m,onOpenChange:f=>{f?r.onItemOpen(a):r.onItemClose(a)}})})});Qe.displayName=pe;var Ye="AccordionHeader",We=h.forwardRef((n,e)=>{const{__scopeAccordion:s,...a}=n,l=ge(v,s),i=Te(Ye,s);return t.jsx(J.h3,{"data-orientation":l.orientation,"data-state":tt(i.open),"data-disabled":i.disabled?"":void 0,...a,ref:e})});We.displayName=Ye;var Ce="AccordionTrigger",Xe=h.forwardRef((n,e)=>{const{__scopeAccordion:s,...a}=n,l=ge(v,s),i=Te(Ce,s),r=Ht(Ce,s),o=Pe(s);return t.jsx(Ie.ItemSlot,{scope:s,children:t.jsx(Et,{"aria-disabled":i.open&&!r.collapsible||void 0,"data-orientation":l.orientation,id:i.triggerId,...o,...a,ref:e})})});Xe.displayName=Ce;var Ze="AccordionContent",et=h.forwardRef((n,e)=>{const{__scopeAccordion:s,...a}=n,l=ge(v,s),i=Te(Ze,s),r=Pe(s);return t.jsx(Dt,{role:"region","aria-labelledby":i.triggerId,"data-orientation":l.orientation,...r,...a,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});et.displayName=Ze;function tt(n){return n?"open":"closed"}var Vt=Ge,Gt=Qe,Ut=We,st=Xe,at=et;const zt=Vt,nt=x.forwardRef((n,e)=>{const s=ue.c(9);let a,l;s[0]!==n?({className:a,...l}=n,s[0]=n,s[1]=a,s[2]=l):(a=s[1],l=s[2]);let i;s[3]!==a?(i=we("border-b",a),s[3]=a,s[4]=i):i=s[4];let r;return s[5]!==l||s[6]!==e||s[7]!==i?(r=t.jsx(Gt,{ref:e,className:i,...l}),s[5]=l,s[6]=e,s[7]=i,s[8]=r):r=s[8],r});nt.displayName="AccordionItem";const it=x.forwardRef((n,e)=>{const s=ue.c(12);let a,l,i;s[0]!==n?({className:l,children:a,...i}=n,s[0]=n,s[1]=a,s[2]=l,s[3]=i):(a=s[1],l=s[2],i=s[3]);let r;s[4]!==l?(r=we("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",l),s[4]=l,s[5]=r):r=s[5];let o;s[6]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(jt,{className:"h-4 w-4 shrink-0 transition-transform duration-200"}),s[6]=o):o=s[6];let c;return s[7]!==a||s[8]!==i||s[9]!==e||s[10]!==r?(c=t.jsx(Ut,{className:"flex",children:t.jsxs(st,{ref:e,className:r,...i,children:[a,o]})}),s[7]=a,s[8]=i,s[9]=e,s[10]=r,s[11]=c):c=s[11],c});it.displayName=st.displayName;const lt=x.forwardRef((n,e)=>{const s=ue.c(13);let a,l,i;s[0]!==n?({className:l,children:a,...i}=n,s[0]=n,s[1]=a,s[2]=l,s[3]=i):(a=s[1],l=s[2],i=s[3]);let r;s[4]!==l?(r=we("pb-4 pt-0",l),s[4]=l,s[5]=r):r=s[5];let o;s[6]!==a||s[7]!==r?(o=t.jsx("div",{className:r,children:a}),s[6]=a,s[7]=r,s[8]=o):o=s[8];let c;return s[9]!==i||s[10]!==e||s[11]!==o?(c=t.jsx(at,{ref:e,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...i,children:o}),s[9]=i,s[10]=e,s[11]=o,s[12]=c):c=s[12],c});lt.displayName=at.displayName;function Hs(n){const e=ue.c(70),{exam:s,analysis:a}=n;rt();const[l,i]=x.useState(!1);let r;e[0]!==a?.status?(r=()=>{if(a?.status==="processing"){const u=setInterval(es,5e3);return()=>clearInterval(u)}},e[0]=a?.status,e[1]=r):r=e[1];const o=a?.status;let c;e[2]!==o?(c=[o],e[2]=o,e[3]=c):c=e[3],x.useEffect(r,c);let m;e[4]!==s.id?(m=()=>{_e.post(`/admin/exams/${s.id}/analysis`,{},{onStart:()=>i(!0),onFinish:()=>i(!1)})},e[4]=s.id,e[5]=m):m=e[5];const p=m,f=Zt,w=Xt,_=Wt,P=Yt,C=Qt;let g;e[6]===Symbol.for("react.memo_cache_sentinel")?(g={title:"Manajemen Ujian",href:"/admin/exams"},e[6]=g):g=e[6];const b=`/admin/exams/${s.id}/monitor`;let d;e[7]!==b?(d={title:"Monitor",href:b},e[7]=b,e[8]=d):d=e[8];let j;e[9]===Symbol.for("react.memo_cache_sentinel")?(j={title:"Analisis Butir Soal",href:"#"},e[9]=j):j=e[9];let N;e[10]!==d?(N=[g,d,j],e[10]=d,e[11]=N):N=e[11];const R=`Analisis - ${s.title}`;let y;e[12]!==R?(y=t.jsx(ot,{title:R}),e[12]=R,e[13]=y):y=e[13];let A;e[14]!==s.id?(A=()=>_e.visit(`/admin/exams/${s.id}/monitor`),e[14]=s.id,e[15]=A):A=e[15];let k;e[16]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(De,{className:"h-4 w-4"}),e[16]=k):k=e[16];let T;e[17]!==A?(T=t.jsx(ye,{variant:"outline",size:"icon",onClick:A,children:k}),e[17]=A,e[18]=T):T=e[18];let E;e[19]!==s.title?(E=t.jsxs("h1",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-slate-100",children:["Analisis Butir Soal: ",s.title]}),e[19]=s.title,e[20]=E):E=e[20];let Q;e[21]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("p",{className:"text-muted-foreground font-medium",children:"Evaluasi kualitas ujian dan performa setiap butir soal."}),e[21]=Q):Q=e[21];let D;e[22]!==E?(D=t.jsxs("div",{children:[E,Q]}),e[22]=E,e[23]=D):D=e[23];let M;e[24]!==T||e[25]!==D?(M=t.jsxs("div",{className:"flex items-center gap-4",children:[T,D]}),e[24]=T,e[25]=D,e[26]=M):M=e[26];let B;e[27]!==s.id?(B=()=>window.open(`/admin/exams/${s.id}/analysis/export`,"_blank"),e[27]=s.id,e[28]=B):B=e[28];const be=!a||a.status==="processing";let Y;e[29]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(De,{className:"mr-2 h-4 w-4 rotate-90"}),e[29]=Y):Y=e[29];let O;e[30]!==B||e[31]!==be?(O=t.jsxs(ye,{variant:"outline",onClick:B,disabled:be,children:[Y," Download Excel"]}),e[30]=B,e[31]=be,e[32]=O):O=e[32];const je=a?.status==="processing"||l;let $;e[33]!==a?.status?($=a?.status==="processing"?t.jsx(Ct,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(Rt,{className:"mr-2 h-4 w-4"}),e[33]=a?.status,e[34]=$):$=e[34];const ve=a?"Analisis Ulang":"Jalankan Analisis";let H;e[35]!==p||e[36]!==je||e[37]!==$||e[38]!==ve?(H=t.jsxs(ye,{onClick:p,disabled:je,children:[$,ve]}),e[35]=p,e[36]=je,e[37]=$,e[38]=ve,e[39]=H):H=e[39];let L;e[40]!==O||e[41]!==H?(L=t.jsxs("div",{className:"flex gap-2",children:[O,H]}),e[40]=O,e[41]=H,e[42]=L):L=e[42];let K;e[43]!==M||e[44]!==L?(K=t.jsxs("div",{className:"flex items-center justify-between",children:[M,L]}),e[43]=M,e[44]=L,e[45]=K):K=e[45];let W;e[46]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(it,{className:"hover:no-underline py-2",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-600 dark:text-slate-400",children:[t.jsx(At,{className:"h-4 w-4"}),"Panduan Membaca Analisis"]})}),e[46]=W):W=e[46];let X;e[47]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx("strong",{children:"Reliabilitas (Cronbach's Alpha):"}),e[47]=X):X=e[47];let Z;e[48]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsxs("p",{children:[X," Mengukur konsistensi internal ujian. Nilai ",t.jsx("strong",{children:"> 0.7"})," dianggap reliabel."]}),e[48]=Z):Z=e[48];let ee,te;e[49]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("div",{className:"font-semibold mb-1",children:"Tingkat Kesulitan (P)"}),te=t.jsx("p",{className:"text-xs",children:"Rasio siswa yang menjawab benar. Rentang 0-1."}),e[49]=ee,e[50]=te):(ee=e[49],te=e[50]);let se;e[51]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsxs("li",{children:["0.0 - 0.3: ",t.jsx("strong",{children:"Sukar"})," (Terlalu sulit)"]}),e[51]=se):se=e[51];let ae;e[52]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsxs("li",{children:["0.3 - 0.7: ",t.jsx("strong",{children:"Sedang"})," (Ideal)"]}),e[52]=ae):ae=e[52];let ne;e[53]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsxs("div",{className:"p-2 border rounded bg-white dark:bg-slate-950",children:[ee,te,t.jsxs("ul",{className:"text-xs list-disc ml-4 mt-1",children:[se,ae,t.jsxs("li",{children:["0.7 - 1.0: ",t.jsx("strong",{children:"Mudah"})," (Terlalu gampang)"]})]})]}),e[53]=ne):ne=e[53];let ie,le;e[54]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx("div",{className:"font-semibold mb-1",children:"Daya Beda (D)"}),le=t.jsx("p",{className:"text-xs",children:"Kemampuan soal membedakan siswa pandai (kelompok atas) dan kurang (bawah)."}),e[54]=ie,e[55]=le):(ie=e[54],le=e[55]);let re;e[56]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsxs("li",{children:[">= 0.40",": ",t.jsx("strong",{children:"Sangat Baik"})]}),e[56]=re):re=e[56];let oe;e[57]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsxs("li",{children:["0.30 - 0.39: ",t.jsx("strong",{children:"Baik"})]}),e[57]=oe):oe=e[57];let ce;e[58]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsxs("li",{children:["0.20 - 0.29: ",t.jsx("strong",{children:"Cukup"})," (Perlu revisi)"]}),e[58]=ce):ce=e[58];let de;e[59]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsxs("div",{className:"p-2 border rounded bg-white dark:bg-slate-950",children:[ie,le,t.jsxs("ul",{className:"text-xs list-disc ml-4 mt-1",children:[re,oe,ce,t.jsxs("li",{children:["< 0.20",": ",t.jsx("strong",{children:"Buruk"})," (Buang/Revisi total)"]})]})]}),e[59]=de):de=e[59];let me;e[60]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(zt,{type:"single",collapsible:!0,className:"w-full bg-slate-50 dark:bg-slate-900 rounded-lg border px-4",children:t.jsxs(nt,{value:"item-1",className:"border-b-0",children:[W,t.jsxs(lt,{className:"text-sm text-slate-600 dark:text-slate-400 space-y-2 pb-4",children:[Z,t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[ne,de,t.jsxs("div",{className:"p-2 border rounded bg-white dark:bg-slate-950",children:[t.jsx("div",{className:"font-semibold mb-1",children:"Efektivitas Pengecoh"}),t.jsx("p",{className:"text-xs",children:"Pengecoh (opsi salah) yang baik harus dipilih oleh minimal 5% peserta, terutama dari kelompok bawah."})]})]})]})]})}),e[60]=me):me=e[60];let F;e[61]!==a?(F=a?t.jsxs(t.Fragment,{children:[a.status==="processing"&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 rounded relative",role:"alert",children:[t.jsx("strong",{className:"font-bold",children:"Sedang memproses!"}),t.jsx("span",{className:"block sm:inline",children:" Analisis sedang berjalan di latar belakang. Hasil akan muncul otomatis."})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[t.jsxs(V,{children:[t.jsx(U,{className:"pb-2",children:t.jsx(z,{className:"text-sm font-medium",children:"Reliabilitas"})}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold",children:a.reliability_coefficient?.toFixed(3)??"-"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:a.reliability_coefficient&&a.reliability_coefficient>.7?"Reliabilitas Tinggi":"Perlu Perbaikan"})]})]}),t.jsxs(V,{children:[t.jsx(U,{className:"pb-2",children:t.jsx(z,{className:"text-sm font-medium",children:"Jumlah Peserta"})}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold",children:a.student_count}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Siswa"})]})]}),t.jsxs(V,{children:[t.jsx(U,{className:"pb-2",children:t.jsx(z,{className:"text-sm font-medium",children:"Rata-rata Nilai"})}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold",children:a.average_score?.toFixed(2)??"-"}),t.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:["Standar Deviasi: ",a.standard_deviation?.toFixed(2)??"-"]})]})]}),t.jsxs(V,{children:[t.jsx(U,{className:"pb-2",children:t.jsx(z,{className:"text-sm font-medium",children:"Rentang Nilai"})}),t.jsxs(G,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:[a.lowest_score," - ",a.highest_score]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Min - Max"})]})]})]}),t.jsxs(V,{children:[t.jsxs(U,{children:[t.jsx(z,{children:"Statistik Butir Soal"}),t.jsx(dt,{children:"Analisis detail per nomor soal."})]}),t.jsx(G,{children:t.jsx("div",{className:"rounded-md border overflow-x-auto",children:t.jsxs(mt,{children:[t.jsx(xt,{children:t.jsxs(Ee,{children:[t.jsx(S,{className:"w-[50px] min-w-[50px]",children:"No"}),t.jsx(S,{className:"w-[30%] min-w-[400px]",children:"Konten Soal"}),t.jsx(S,{className:"min-w-[150px]",children:"Tipe"}),t.jsx(S,{className:"min-w-[150px]",children:"Tingkat Kesulitan (P)"}),t.jsx(S,{className:"min-w-[150px]",children:"Daya Beda (D)"}),t.jsx(S,{className:"min-w-[300px]",children:"Distribusi Pengecoh"}),t.jsx(S,{className:"min-w-[250px]",children:"Rekomendasi"})]})}),t.jsx(pt,{children:a.item_analyses&&a.item_analyses.map(u=>t.jsxs(Ee,{children:[t.jsx(I,{className:"font-medium align-top pt-4",children:u.exam_question?.question_number}),t.jsx(I,{className:"align-top",children:t.jsx("div",{className:"border rounded-md overflow-hidden bg-white max-h-[200px] overflow-y-auto",children:t.jsx(ut,{value:u.exam_question?.content||"Konten tidak tersedia",readOnly:!0,className:"border-0 min-h-[60px]"})})}),t.jsx(I,{className:"align-top pt-4",children:t.jsx(Ne,{variant:"outline",children:C(u.exam_question?.question_type)})}),t.jsx(I,{className:"align-top pt-4",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(Ne,{variant:"secondary",className:f(u.difficulty_index),children:u.difficulty_index?.toFixed(2)??"-"})}),t.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",w(u.difficulty_index),")"]})]})}),t.jsx(I,{className:"align-top pt-4",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(Ne,{variant:"secondary",className:_(u.discrimination_index),children:u.discrimination_index?.toFixed(2)??"-"})}),t.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",P(u.discrimination_index),")"]})]})}),t.jsx(I,{className:"align-top pt-4",children:u.exam_question?.question_type==="essay"?t.jsx("span",{className:"text-muted-foreground italic text-sm",children:"-"}):t.jsx("div",{className:"flex flex-col gap-2 w-full min-w-[180px]",children:Object.entries(u.distractor_analysis||{}).map(Jt)})}),t.jsx(I,{className:"align-top pt-4",children:t.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:u.analysis_recommendation||"-"})})]},u.id))})]})})})]})]}):t.jsx(V,{children:t.jsx(G,{className:"pt-6 text-center text-muted-foreground",children:'Belum ada data analisis. Klik tombol "Jalankan Analisis" untuk memulai.'})}),e[61]=a,e[62]=F):F=e[62];let q;e[63]!==K||e[64]!==F?(q=t.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[K,me,F]}),e[63]=K,e[64]=F,e[65]=q):q=e[65];let xe;return e[66]!==y||e[67]!==q||e[68]!==N?(xe=t.jsx(vt,{children:t.jsxs(ct,{breadcrumbs:N,children:[y,q]})}),e[66]=y,e[67]=q,e[68]=N,e[69]=xe):xe=e[69],xe}function Jt(n){const[e,s]=n;return t.jsxs(Nt,{children:[t.jsx(yt,{asChild:!0,children:t.jsxs("div",{className:"flex items-center gap-2 w-full text-xs cursor-help",children:[t.jsx("div",{className:"w-1/2 h-2 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${s.is_key?"bg-green-500":"bg-slate-400 dark:bg-slate-600"}`,style:{width:`${s.percent}%`}})}),t.jsxs("span",{className:"w-8 text-right text-muted-foreground",children:[s.percent,"%"]})]})}),t.jsx(_t,{children:t.jsxs("div",{className:"text-xs",children:[t.jsxs("p",{className:"font-bold",children:["Opsi ",e," ",s.is_key&&"(Kunci)"]}),t.jsxs("p",{children:["Dipilih: ",t.jsxs("span",{className:"font-semibold text-primary",children:[s.count," siswa"]})," (",s.percent,"%)"]})]})})]},e)}function Qt(n){return{multiple_choice:"Pilihan Ganda",true_false:"Benar/Salah",essay:"Esai",matching:"Menjodohkan",ordering:"Mengurutkan",multiple_selection:"Pilihan Ganda Kompleks",numerical_input:"Isian Angka"}[n]||n}function Yt(n){return n===null?"-":n>=.4?"Sangat Baik":n>=.3?"Baik":n>=.2?"Cukup":"Buruk"}function Wt(n){return n===null?"bg-gray-100 text-gray-800":n>=.4?"bg-green-100 text-green-800":n>=.3?"bg-blue-100 text-blue-800":n>=.2?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}function Xt(n){return n===null?"-":n>.7?"Mudah":n<.3?"Sukar":"Sedang"}function Zt(n){return n===null?"bg-gray-100 text-gray-800":n>.7?"bg-green-100 text-green-800":n<.3?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}function es(){_e.reload({only:["analysis"]})}export{Hs as default};
