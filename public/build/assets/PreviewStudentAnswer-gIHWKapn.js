import{c as C,j as r,r as ee}from"./app-DyN-wpxS.js";import{c as re,a as A}from"./button-CdyPjVIa.js";import{M as L}from"./MathRenderer-DYpDUqD8.js";import{C as B}from"./circle-check-VDgprh3j.js";import{C as H}from"./circle-x-BqcflfMS.js";import{S as te}from"./square-D7hxKJse.js";import{S as se}from"./square-check-big-NwfVi49y.js";import{u as de,a as ae,M as X,B as le,d as ne,i as oe,H as G,P as Q}from"./style-B2nCtcBB.js";import{R as J,M as F}from"./RichTextEditor-DBZWqaZR.js";import{C as ie}from"./index-pm4w21PO.js";import{X as ce}from"./x-lNOBUcxD.js";const me=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xe=re("SquareX",me);function ue(m){const e=C.c(8),{options:a,studentAnswer:o,keyAnswer:s,showMedia:i,showStudentAnswer:x,showKeyAnswer:f}=m,c=i===void 0?!0:i,n=x===void 0?!0:x,l=(f===void 0?!0:f)?s?.answer:null;let t;e[0]!==a?(t=Object.entries(a),e[0]=a,e[1]=t):t=e[1];let u;return e[2]!==l||e[3]!==c||e[4]!==n||e[5]!==o||e[6]!==t?(u=r.jsx("div",{className:"grid gap-3",children:t.map(w=>{const[b,j]=w,h=n&&o===b,p=l===b,y=h&&!p;let g="border-border",v="bg-card",N=r.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-muted-foreground/30 flex items-center justify-center text-[10px] font-medium text-muted-foreground",children:b});return p&&(g="border-emerald-200 dark:border-emerald-800",v="bg-emerald-50 dark:bg-emerald-950/30",N=r.jsx(B,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})),y&&(g="border-red-200 dark:border-red-800",v="bg-red-50 dark:bg-red-950/30",N=r.jsx(H,{className:"w-5 h-5 text-red-600 dark:text-red-400"})),r.jsxs("div",{className:A("flex items-start gap-3 p-4 rounded-xl border transition-all",v,g,h&&"ring-2 ring-offset-2 ring-primary/20"),children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:N}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx(L,{className:A("text-sm",p&&"font-medium text-emerald-900 dark:text-emerald-100",y&&"text-red-900 dark:text-red-100"),content:j.content}),c&&(j.media_url||j.media)&&r.jsx("div",{className:"mt-2 rounded-lg overflow-hidden border border-border max-w-xs",children:r.jsx("img",{src:j.media_url||j.media||"",alt:`Option ${b}`,className:"max-h-[100px] max-w-full object-cover"})}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[h&&r.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full bg-primary/10 text-primary",children:"Student Answer"}),p&&r.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300",children:"Correct Answer"})]})]})]},b)})}),e[2]=l,e[3]=c,e[4]=n,e[5]=o,e[6]=t,e[7]=u):u=e[7],u}function fe(m){const e=C.c(11),{options:a,studentAnswer:o,keyAnswer:s,showMedia:i,showStudentAnswer:x,showKeyAnswer:f}=m,c=i===void 0?!0:i,n=x===void 0?!0:x,d=f===void 0?!0:f;let l;e[0]!==s||e[1]!==d?(l=d&&s?s.answers||s.answer||[]:[],e[0]=s,e[1]=d,e[2]=l):l=e[2];const t=l;let u;e[3]!==o?(u=o||[],e[3]=o,e[4]=u):u=e[4];const w=u;let b;return e[5]!==t||e[6]!==a||e[7]!==c||e[8]!==n||e[9]!==w?(b=r.jsx("div",{className:"grid gap-3",children:Object.entries(a).map(j=>{const[h,p]=j,y=n&&w.includes(h),g=t.includes(h),v=y&&!g;let N="border-border",S="bg-card",_=r.jsx(te,{className:"w-5 h-5 text-muted-foreground/30"});return g&&(N="border-emerald-200 dark:border-emerald-800",S="bg-emerald-50 dark:bg-emerald-950/30",_=r.jsx(se,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})),v&&(N="border-red-200 dark:border-red-800",S="bg-red-50 dark:bg-red-950/30",_=r.jsx(xe,{className:"w-5 h-5 text-red-600 dark:text-red-400"})),r.jsxs("div",{className:A("flex items-start gap-3 p-4 rounded-xl border transition-all",S,N,y&&"ring-2 ring-offset-2 ring-primary/20"),children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:_}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"flex items-center gap-2 mb-1",children:r.jsx("span",{className:A("text-xs font-semibold px-2 py-0.5 rounded",g?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400",v&&"bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300"),children:h})}),r.jsx(L,{className:A("text-sm",g&&"font-medium text-emerald-900 dark:text-emerald-100",v&&"text-red-900 dark:text-red-100"),content:p.content}),c&&(p.media_url||p.media)&&r.jsx("div",{className:"mt-2 rounded-lg overflow-hidden border border-border max-w-xs",children:r.jsx("img",{src:p.media_url||p.media||"",alt:`Option ${h}`,className:"max-h-[100px] max-w-full object-cover"})}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[y&&r.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full bg-primary/10 text-primary",children:"Student Answer"}),g&&r.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300",children:"Correct Answer"})]})]})]},h)})}),e[5]=t,e[6]=a,e[7]=c,e[8]=n,e[9]=w,e[10]=b):b=e[10],b}function be(m){const e=C.c(16),{data:a}=m,o=a.colorClass;let s;e[0]!==o?(s=A("relative p-3 rounded-xl border text-sm flex items-center min-h-[100px] bg-card w-[400px] shadow-sm transition-all hover:shadow-md",o),e[0]=o,e[1]=s):s=e[1];const i=a.label;let x;e[2]!==i?(x=r.jsx("div",{className:"flex items-center gap-2 mb-1",children:r.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-muted text-[10px] font-bold text-muted-foreground",children:i})}),e[2]=i,e[3]=x):x=e[3];const f=a.content;let c;e[4]!==f?(c=r.jsx(J,{value:f,readOnly:!0,className:"border-0 bg-transparent p-0 min-h-0 text-sm"}),e[4]=f,e[5]=c):c=e[5];let n;e[6]!==a.mediaUrl?(n=a.mediaUrl&&r.jsx("div",{className:"mt-2 rounded-lg overflow-hidden border border-border h-24 w-auto bg-muted/20 inline-block",children:r.jsx("img",{src:a.mediaUrl,alt:"Visual",className:"h-full w-auto object-contain"})}),e[6]=a.mediaUrl,e[7]=n):n=e[7];let d;e[8]!==x||e[9]!==c||e[10]!==n?(d=r.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[x,c,n]}),e[8]=x,e[9]=c,e[10]=n,e[11]=d):d=e[11];let l;e[12]===Symbol.for("react.memo_cache_sentinel")?(l=r.jsx(G,{type:"source",position:Q.Right,className:"w-3 h-3 bg-muted-foreground border-2 border-background ring-2 ring-primary/10 transition-all hover:ring-primary/30 hover:scale-110 !-right-1.5"}),e[12]=l):l=e[12];let t;return e[13]!==s||e[14]!==d?(t=r.jsxs("div",{className:s,children:[d,l]}),e[13]=s,e[14]=d,e[15]=t):t=e[15],t}function he(m){const e=C.c(16),{data:a}=m,o=a.colorClass;let s;e[0]!==o?(s=A("relative p-3 rounded-xl border text-sm flex items-center min-h-[100px] bg-card w-[400px] shadow-sm transition-all hover:shadow-md",o),e[0]=o,e[1]=s):s=e[1];let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=r.jsx(G,{type:"target",position:Q.Left,className:"w-3 h-3 bg-muted-foreground border-2 border-background ring-2 ring-primary/10 transition-all hover:ring-primary/30 hover:scale-110 !-left-1.5"}),e[2]=i):i=e[2];const x=a.label;let f;e[3]!==x?(f=r.jsx("div",{className:"flex items-center justify-end gap-2 mb-1",children:r.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-muted text-[10px] font-bold text-muted-foreground",children:x})}),e[3]=x,e[4]=f):f=e[4];const c=a.content;let n;e[5]!==c?(n=r.jsx(J,{value:c,readOnly:!0,className:"border-0 bg-transparent p-0 min-h-0 text-sm [&_.ProseMirror]:text-right"}),e[5]=c,e[6]=n):n=e[6];let d;e[7]!==a.mediaUrl?(d=a.mediaUrl&&r.jsx("div",{className:"mt-2 rounded-lg overflow-hidden border border-border h-24 w-auto bg-muted/20 inline-block",children:r.jsx("img",{src:a.mediaUrl,alt:"Visual",className:"h-full w-auto object-contain"})}),e[7]=a.mediaUrl,e[8]=d):d=e[8];let l;e[9]!==f||e[10]!==n||e[11]!==d?(l=r.jsxs("div",{className:"flex-1 min-w-0 pl-4 text-right",children:[f,n,d]}),e[9]=f,e[10]=n,e[11]=d,e[12]=l):l=e[12];let t;return e[13]!==s||e[14]!==l?(t=r.jsxs("div",{className:s,children:[i,l]}),e[13]=s,e[14]=l,e[15]=t):t=e[15],t}const pe={leftOption:be,rightOption:he};function we(m){const e=C.c(32),{options:a,studentAnswer:o,keyAnswer:s,showMedia:i,showStudentAnswer:x,showKeyAnswer:f}=m,c=i===void 0?!0:i,n=x===void 0?!0:x,d=f===void 0?!0:f;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=[],e[0]=l):l=e[0];const[t,u,w]=de(l);let b;e[1]===Symbol.for("react.memo_cache_sentinel")?(b=[],e[1]=b):b=e[1];const[j,h,p]=ae(b);let y,g;e[2]!==s||e[3]!==a||e[4]!==h||e[5]!==u||e[6]!==d||e[7]!==c||e[8]!==n||e[9]!==o?(y=()=>{if(!a)return;const Y=Object.values(a).filter(ke).sort(Ne),Z=Object.values(a).filter(ve).sort(je),q=[],D=[];Y.forEach((k,O)=>{q.push({id:k.key,type:"leftOption",position:{x:20,y:20+O*180},data:{label:k.key,content:k.content,mediaUrl:c?k.media_url||k.media:null,pairId:k.pair_id},draggable:!1,selectable:!1})}),Z.forEach((k,O)=>{q.push({id:k.key,type:"rightOption",position:{x:700,y:20+O*180},data:{label:k.key,content:k.content,mediaUrl:c?k.media_url||k.media:null,pairId:k.pair_id},draggable:!1,selectable:!1})}),d&&s?.pairs&&Object.entries(s.pairs).forEach(k=>{const[O,K]=k;a[O]&&a[K]&&D.push({id:`key-${O}-${K}`,source:O,target:K,animated:!1,style:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"5,5",opacity:.6},markerEnd:{type:X.ArrowClosed,color:"#10b981"},zIndex:1})}),n&&o&&Object.entries(o).forEach(k=>{const[O,K]=k;if(a[O]&&a[K]){const V=s?.pairs?.[O]===K?"#059669":"#dc2626";D.push({id:`student-${O}-${K}`,source:O,target:K,animated:!1,style:{stroke:V,strokeWidth:3,strokeDasharray:"0"},zIndex:10,markerEnd:{type:X.ArrowClosed,color:V}})}}),u(q),h(D)},g=[a,o,s,c,d,n,u,h],e[2]=s,e[3]=a,e[4]=h,e[5]=u,e[6]=d,e[7]=c,e[8]=n,e[9]=o,e[10]=y,e[11]=g):(y=e[10],g=e[11]),ee.useEffect(y,g);let v;e[12]!==a?(v=Object.values(a).filter(ye),e[12]=a,e[13]=v):v=e[13];const N=v.length;let S;e[14]!==a?(S=Object.values(a).filter(ge),e[14]=a,e[15]=S):S=e[15];const _=Math.max(N,S.length),T=`${Math.max(400,_*180+100)}px`;let M;e[16]!==T?(M={height:T},e[16]=T,e[17]=M):M=e[17];let P,E;e[18]===Symbol.for("react.memo_cache_sentinel")?(P={padding:.2},E={hideAttribution:!0},e[18]=P,e[19]=E):(P=e[18],E=e[19]);let I;e[20]===Symbol.for("react.memo_cache_sentinel")?(I=r.jsx(le,{color:"#94a3b8",gap:24,size:1}),e[20]=I):I=e[20];let z;e[21]===Symbol.for("react.memo_cache_sentinel")?(z=r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-0.5 bg-[#059669]"}),r.jsx("span",{className:"font-medium",children:"Jawaban Benar (Siswa)"})]}),e[21]=z):z=e[21];let R;e[22]===Symbol.for("react.memo_cache_sentinel")?(R=r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-0.5 bg-[#dc2626]"}),r.jsx("span",{className:"font-medium",children:"Jawaban Salah (Siswa)"})]}),e[22]=R):R=e[22];let U;e[23]===Symbol.for("react.memo_cache_sentinel")?(U=r.jsxs(ne,{position:"bottom-center",className:"bg-card/90 backdrop-blur-sm p-3 rounded-lg border shadow-sm text-xs flex gap-6",children:[z,R,r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-0.5 border-t-2 border-dashed border-[#10b981]"}),r.jsx("span",{className:"font-medium",children:"Kunci Jawaban"})]})]}),e[23]=U):U=e[23];let $;e[24]!==j||e[25]!==t||e[26]!==p||e[27]!==w?($=r.jsxs(oe,{nodes:t,edges:j,onNodesChange:w,onEdgesChange:p,nodeTypes:pe,fitView:!0,fitViewOptions:P,proOptions:E,panOnDrag:!1,zoomOnScroll:!1,zoomOnPinch:!1,zoomOnDoubleClick:!1,nodesDraggable:!1,nodesConnectable:!1,elementsSelectable:!1,children:[I,U]}),e[24]=j,e[25]=t,e[26]=p,e[27]=w,e[28]=$):$=e[28];let W;return e[29]!==M||e[30]!==$?(W=r.jsx("div",{className:"w-full border rounded-xl overflow-hidden bg-muted/5",style:M,children:$}),e[29]=M,e[30]=$,e[31]=W):W=e[31],W}function ge(m){return m.key.startsWith("R")||m.side==="right"}function ye(m){return m.key.startsWith("L")||m.side==="left"}function je(m,e){return m.key.localeCompare(e.key)}function ve(m){return m.key.startsWith("R")||m.side==="right"}function Ne(m,e){return m.key.localeCompare(e.key)}function ke(m){return m.key.startsWith("L")||m.side==="left"}function Ae(m){const e=C.c(8),{options:a,studentAnswer:o,keyAnswer:s,showMedia:i,showStudentAnswer:x,showKeyAnswer:f}=m,c=i===void 0?!0:i,n=x===void 0?!0:x,l=(f===void 0?!0:f)?s?.answer:null;let t;e[0]!==a?(t=Object.entries(a),e[0]=a,e[1]=t):t=e[1];let u;return e[2]!==l||e[3]!==c||e[4]!==n||e[5]!==o||e[6]!==t?(u=r.jsx("div",{className:"grid gap-3",children:t.map(w=>{const[b,j]=w,h=n&&o===b,p=l===b,y=h&&!p;let g="border-border",v="bg-card",N=r.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-muted-foreground/30 flex items-center justify-center text-[10px] font-medium text-muted-foreground",children:b});return p&&(g="border-emerald-200 dark:border-emerald-800",v="bg-emerald-50 dark:bg-emerald-950/30",N=r.jsx(B,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})),y&&(g="border-red-200 dark:border-red-800",v="bg-red-50 dark:bg-red-950/30",N=r.jsx(H,{className:"w-5 h-5 text-red-600 dark:text-red-400"})),r.jsxs("div",{className:A("flex items-start gap-3 p-4 rounded-xl border transition-all",v,g,h&&"ring-2 ring-offset-2 ring-primary/20"),children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:N}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx(L,{className:A("text-sm",p&&"font-medium text-emerald-900 dark:text-emerald-100",y&&"text-red-900 dark:text-red-100"),content:j.content}),c&&(j.media_url||j.media)&&r.jsx("div",{className:"mt-2 rounded-lg overflow-hidden border border-border max-w-xs",children:r.jsx("img",{src:j.media_url||j.media||"",alt:`Option ${b}`,className:"max-h-[100px] max-w-full object-cover"})}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[h&&r.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full bg-primary/10 text-primary",children:"Student Answer"}),p&&r.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300",children:"Correct Answer"})]})]})]},b)})}),e[2]=l,e[3]=c,e[4]=n,e[5]=o,e[6]=t,e[7]=u):u=e[7],u}function Se(m){const e=C.c(16),{options:a,studentAnswer:o,keyAnswer:s,showMedia:i,showStudentAnswer:x,showKeyAnswer:f}=m,c=i===void 0?!0:i,n=x===void 0?!0:x;let d;e[0]!==s||e[1]!==a?(d=s?.order&&Array.isArray(s.order)?s.order:Object.keys(a),e[0]=s,e[1]=a,e[2]=d):d=e[2];const l=d;let t;if(e[3]!==l||e[4]!==a||e[5]!==c||e[6]!==n||e[7]!==o){let w;e[9]!==a||e[10]!==c||e[11]!==n||e[12]!==o?(w=(b,j)=>{const h=a[b];if(!h)return null;const p=o?.indexOf(b)??-1,y=p!==-1?p+1:null,g=j+1,v=y===g;let N="border-border",S="bg-card",_=null;return n&&y!==null&&(v?(N="border-emerald-200 dark:border-emerald-800",S="bg-emerald-50 dark:bg-emerald-950/30",_=r.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-emerald-100 text-emerald-700 dark:bg-emerald-900 dark:text-emerald-300 flex items-center justify-center text-xs font-bold border border-emerald-200 dark:border-emerald-800 shadow-sm z-10",children:y})):(N="border-red-200 dark:border-red-800",S="bg-red-50 dark:bg-red-950/30",_=r.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300 flex items-center justify-center text-xs font-bold border border-red-200 dark:border-red-800 shadow-sm z-10",children:y}))),r.jsxs("div",{className:A("relative flex items-center gap-3 p-3 rounded-lg border transition-all",S,N),children:[r.jsx("div",{className:A("flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold flex-shrink-0 bg-muted text-muted-foreground"),children:g}),r.jsxs("div",{className:"flex-1 min-w-0 pr-8",children:[r.jsx(L,{className:"text-sm",content:h.content}),c&&(h.media_url||h.media)&&r.jsx("div",{className:"mt-2 rounded-lg overflow-hidden border border-border max-w-xs",children:r.jsx("img",{src:h.media_url||h.media||"",alt:`Option ${b}`,className:"max-h-[80px] w-auto object-cover"})})]}),_]},`${b}-${j}`)},e[9]=a,e[10]=c,e[11]=n,e[12]=o,e[13]=w):w=e[13],t=l.map(w),e[3]=l,e[4]=a,e[5]=c,e[6]=n,e[7]=o,e[8]=t}else t=e[8];let u;return e[14]!==t?(u=r.jsx("div",{className:"flex flex-col gap-2",children:t}),e[14]=t,e[15]=u):u=e[15],u}function Oe(m){const e=C.c(15),{studentAnswer:a,keyAnswer:o,showStudentAnswer:s,showKeyAnswer:i}=m,x=s===void 0?!0:s,f=i===void 0?!0:i,c=f?o?.answer:null,n=x&&a&&c&&a===c,d=x&&a&&c&&a!==c;let l;e[0]!==n||e[1]!==d||e[2]!==x||e[3]!==a?(l=x&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Student Answer"}),n&&r.jsx(B,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"}),d&&r.jsx(H,{className:"w-4 h-4 text-red-600 dark:text-red-400"})]}),r.jsxs("div",{className:A("flex items-center gap-3 p-4 rounded-xl border transition-all",n&&"border-emerald-200 dark:border-emerald-800 bg-emerald-50 dark:bg-emerald-950/30",d&&"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-950/30",!n&&!d&&"border-border bg-card"),children:[r.jsx(F,{value:a||"",readOnly:!0,className:A("flex-1",n&&"bg-emerald-50 dark:bg-emerald-950/30",d&&"bg-red-50 dark:bg-red-950/30"),options:{readOnly:!0}}),n&&r.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300",children:"Correct"}),d&&r.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300",children:"Incorrect"})]})]}),e[0]=n,e[1]=d,e[2]=x,e[3]=a,e[4]=l):l=e[4];let t;e[5]!==c||e[6]!==f?(t=f&&c&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Correct Answer"}),r.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl border border-emerald-200 dark:border-emerald-800 bg-emerald-50 dark:bg-emerald-950/30 transition-all",children:[r.jsx(B,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400 flex-shrink-0"}),r.jsx(F,{value:c,readOnly:!0,className:"flex-1 bg-emerald-50 dark:bg-emerald-950/30",options:{readOnly:!0}})]})]}),e[5]=c,e[6]=f,e[7]=t):t=e[7];let u;e[8]!==f||e[9]!==x?(u=!x&&!f&&r.jsx("div",{className:"text-sm text-muted-foreground",children:"No answers to display"}),e[8]=f,e[9]=x,e[10]=u):u=e[10];let w;return e[11]!==l||e[12]!==t||e[13]!==u?(w=r.jsxs("div",{className:"space-y-4",children:[l,t,u]}),e[11]=l,e[12]=t,e[13]=u,e[14]=w):w=e[14],w}function Ce(m){const e=C.c(13),{studentAnswer:a,keyAnswer:o,showStudentAnswer:s,showKeyAnswer:i}=m,x=s===void 0?!0:s,f=i===void 0?!0:i;let c;e[0]!==x||e[1]!==a?(c=x&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Student Answer"}),r.jsx("div",{className:A("p-4 rounded-xl border transition-all","border-border bg-card"),children:a?r.jsx(J,{value:a,readOnly:!0,className:"border-none"}):r.jsx("div",{className:"text-sm text-muted-foreground italic",children:"No answer provided"})})]}),e[0]=x,e[1]=a,e[2]=c):c=e[2];let n;e[3]!==o||e[4]!==f?(n=f&&o&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Model Answer / Rubric"}),r.jsx("div",{className:"p-4 rounded-xl border border-emerald-200 dark:border-emerald-800 bg-emerald-50 dark:bg-emerald-950/30 transition-all",children:r.jsx(J,{value:o,readOnly:!0,className:"border-none bg-transparent"})})]}),e[3]=o,e[4]=f,e[5]=n):n=e[5];let d;e[6]!==f||e[7]!==x?(d=!x&&!f&&r.jsx("div",{className:"text-sm text-muted-foreground",children:"No answers to display"}),e[6]=f,e[7]=x,e[8]=d):d=e[8];let l;return e[9]!==c||e[10]!==n||e[11]!==d?(l=r.jsxs("div",{className:"space-y-4",children:[c,n,d]}),e[9]=c,e[10]=n,e[11]=d,e[12]=l):l=e[12],l}function _e(m){const e=C.c(19),{studentAnswer:a,keyAnswer:o,showKeyAnswer:s,showStudentAnswer:i}=m,x=s===void 0?!0:s,f=i===void 0?!0:i,c=Me;let n;e[0]!==a?(n=c(a),e[0]=a,e[1]=n):n=e[1];const d=n;let l;e[2]!==o?(l=c(o),e[2]=o,e[3]=l):l=e[3];const t=l;let u;e[4]!==d?(u=JSON.stringify(d),e[4]=d,e[5]=u):u=e[5];let w;e[6]!==t?(w=JSON.stringify(t),e[6]=t,e[7]=w):w=e[7];const b=u===w,j=Ke;let h;e[8]!==b||e[9]!==f||e[10]!==d?(h=f&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Jawaban Siswa:"}),r.jsx("div",{className:"flex items-center gap-2",children:d.length>0?b?r.jsxs("span",{className:"flex items-center text-xs font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-100 dark:bg-emerald-900/30 px-2 py-1 rounded-md",children:[r.jsx(ie,{className:"w-3.5 h-3.5 mr-1.5"}),"Benar"]}):r.jsxs("span",{className:"flex items-center text-xs font-bold text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30 px-2 py-1 rounded-md",children:[r.jsx(ce,{className:"w-3.5 h-3.5 mr-1.5"}),"Salah"]}):r.jsx("span",{className:"text-xs font-medium text-muted-foreground italic",children:"Tidak menjawab"})})]}),r.jsx("div",{className:A("p-6 rounded-xl border-2 border-dashed flex flex-wrap gap-2 items-center min-h-[60px]",b?"bg-emerald-50/30 border-emerald-200 dark:bg-emerald-900/10 dark:border-emerald-800":"bg-red-50/30 border-red-200 dark:bg-red-900/10 dark:border-red-800",d.length===0&&"justify-center"),children:d.length>0?d.map((g,v)=>r.jsx(j,{word:g,variant:b?"success":"destructive"},v)):r.jsx("span",{className:"text-sm text-muted-foreground",children:"- Kosong -"})})]}),e[8]=b,e[9]=f,e[10]=d,e[11]=h):h=e[11];let p;e[12]!==t||e[13]!==b||e[14]!==x?(p=x&&!b&&r.jsxs("div",{className:"space-y-3 pt-2",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Kunci Jawaban:"})}),r.jsx("div",{className:"p-5 rounded-xl bg-slate-50 border border-slate-200 dark:bg-slate-900/30 dark:border-slate-800 flex flex-wrap gap-2 items-center",children:t.length>0?t.map((g,v)=>r.jsx(j,{word:g,variant:"outline"},v)):r.jsx("span",{className:"text-sm text-muted-foreground italic",children:"Tidak ada kunci jawaban"})})]}),e[12]=t,e[13]=b,e[14]=x,e[15]=p):p=e[15];let y;return e[16]!==h||e[17]!==p?(y=r.jsxs("div",{className:"space-y-6",children:[h,p]}),e[16]=h,e[17]=p,e[18]=y):y=e[18],y}function Ke(m){const{word:e,variant:a}=m,o=a===void 0?"default":a;let s;return o==="success"?s="text-sm px-3 py-1.5 rounded-xl shadow-sm border-b-4 active:border-b-0 active:translate-y-1 transition-all bg-emerald-500 border-emerald-700 text-white hover:bg-emerald-400":o==="destructive"?s="text-sm px-3 py-1.5 rounded-xl shadow-sm border-b-4 active:border-b-0 active:translate-y-1 transition-all bg-red-500 border-red-700 text-white hover:bg-red-400":s="text-sm px-3 py-1.5 rounded-xl shadow-sm border-b-4 active:border-b-0 active:translate-y-1 transition-all bg-white border-slate-200 text-slate-700 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-200",r.jsx("div",{className:s,children:e})}function Me(m){if(!m)return[];if(Array.isArray(m))return m;if(typeof m=="string")try{const e=JSON.parse(m);if(Array.isArray(e))return e}catch{}return typeof m=="object"&&m.words&&Array.isArray(m.words)?m.words:[]}function De(m){const e=C.c(54),{type:a,options:o,studentAnswer:s,keyAnswer:i,showMedia:x,showKeyAnswer:f,showStudentAnswer:c}=m,n=x===void 0?!1:x,d=f===void 0?!0:f,l=c===void 0?!0:c;switch(a){case"multiple_choice":{let t;return e[0]!==i||e[1]!==o||e[2]!==d||e[3]!==n||e[4]!==l||e[5]!==s?(t=r.jsx(ue,{options:o,studentAnswer:s,keyAnswer:i,showMedia:n,showKeyAnswer:d,showStudentAnswer:l}),e[0]=i,e[1]=o,e[2]=d,e[3]=n,e[4]=l,e[5]=s,e[6]=t):t=e[6],t}case"multiple_selection":{let t;return e[7]!==i||e[8]!==o||e[9]!==d||e[10]!==n||e[11]!==l||e[12]!==s?(t=r.jsx(fe,{options:o,studentAnswer:s,keyAnswer:i,showMedia:n,showKeyAnswer:d,showStudentAnswer:l}),e[7]=i,e[8]=o,e[9]=d,e[10]=n,e[11]=l,e[12]=s,e[13]=t):t=e[13],t}case"true_false":{let t;return e[14]!==i||e[15]!==o||e[16]!==d||e[17]!==n||e[18]!==l||e[19]!==s?(t=r.jsx(Ae,{options:o,studentAnswer:s,keyAnswer:i,showMedia:n,showKeyAnswer:d,showStudentAnswer:l}),e[14]=i,e[15]=o,e[16]=d,e[17]=n,e[18]=l,e[19]=s,e[20]=t):t=e[20],t}case"ordering":{let t;return e[21]!==i||e[22]!==o||e[23]!==d||e[24]!==n||e[25]!==l||e[26]!==s?(t=r.jsx(Se,{options:o,studentAnswer:s,keyAnswer:i,showMedia:n,showKeyAnswer:d,showStudentAnswer:l}),e[21]=i,e[22]=o,e[23]=d,e[24]=n,e[25]=l,e[26]=s,e[27]=t):t=e[27],t}case"matching":{let t;return e[28]!==i||e[29]!==o||e[30]!==d||e[31]!==n||e[32]!==l||e[33]!==s?(t=r.jsx(we,{options:o,studentAnswer:s,keyAnswer:i,showMedia:n,showKeyAnswer:d,showStudentAnswer:l}),e[28]=i,e[29]=o,e[30]=d,e[31]=n,e[32]=l,e[33]=s,e[34]=t):t=e[34],t}case"numerical_input":{let t;return e[35]!==i||e[36]!==d||e[37]!==l||e[38]!==s?(t=r.jsx(Oe,{studentAnswer:s,keyAnswer:i,showKeyAnswer:d,showStudentAnswer:l}),e[35]=i,e[36]=d,e[37]=l,e[38]=s,e[39]=t):t=e[39],t}case"essay":{const t=i?.answer||i;let u;return e[40]!==d||e[41]!==l||e[42]!==s||e[43]!==t?(u=r.jsx(Ce,{studentAnswer:s,keyAnswer:t,showKeyAnswer:d,showStudentAnswer:l}),e[40]=d,e[41]=l,e[42]=s,e[43]=t,e[44]=u):u=e[44],u}case"arrange_words":{let t;return e[45]!==i||e[46]!==d||e[47]!==l||e[48]!==s?(t=r.jsx(_e,{studentAnswer:s,keyAnswer:i,showKeyAnswer:d,showStudentAnswer:l}),e[45]=i,e[46]=d,e[47]=l,e[48]=s,e[49]=t):t=e[49],t}default:{let t;e[50]!==s?(t=typeof s=="object"?JSON.stringify(s):s||"-",e[50]=s,e[51]=t):t=e[51];let u;return e[52]!==t?(u=r.jsx("div",{className:"text-sm",children:t}),e[52]=t,e[53]=u):u=e[53],u}}}export{De as P};
