import{r as b,j as l,c as X,R as he,b as Xe,d as Yr,H as Or}from"./app-BL23_ioL.js";import{c as ve,u as oe,a as V,B as Q}from"./button-ErPUhfKM.js";import{C as Ne,b as De,c as lt,a as ze,e as Me}from"./card-BPYLlYs-.js";import{B as dt}from"./badge-J0MIFrA3.js";import{S as ct}from"./separator-DdB25QHh.js";import{P as ie}from"./index-BoQRUedT.js";import{c as Ke,P as Se,a as te,b as Xr,u as Dr}from"./index-DuTHxAZ2.js";import{b as me}from"./index-DFAfDP5U.js";import{u as _t}from"./index-CQgWKaQN.js";import{c as zr}from"./index-BdQq_4o_.js";import{S as Mr,a as Wr,b as Lr}from"./sheet-CAKOvksQ.js";import{f as We,b as Br,C as Hr}from"./index-CO7HXDK1.js";import{c as Tt,I as Vr,R as $r}from"./index-e0nZHYEA.js";import{u as Fr}from"./index-Uqd2XL9l.js";import{u as Zr}from"./index-BzB_uvRg.js";import{L as At}from"./label-CDDyI8HS.js";import{M as Qe,r as Ur}from"./MathRenderer-Dmg9cVUs.js";import{C as Kr}from"./checkbox-BB3F9eKw.js";import{R as Ge,M as Qr}from"./RichTextEditor-BBqXt6Vd.js";import{a as Et,b as ke,K as Gr,P as Rt,s as Jr,d as He,S as Ve,v as qr,D as Yt,c as Ot,u as Xt,C as Dt,T as Ir,h as ut,e as en,f as tn}from"./sortable.esm-DG6MMUaM.js";import{G as rn}from"./grip-vertical-CIej0FFK.js";import{R as nn,u as on,a as an,M as ft,b as sn,i as ln,B as dn,C as cn,g as un,H as zt,P as Mt,d as fn,E as mn}from"./style-CnmbGnv_.js";import{c as pn,e as hn,f as vn}from"./dialog-CUguBIrB.js";import{X as gn}from"./x-Bvzm8Mbo.js";import{C as Wt}from"./circle-alert-Db82dbeJ.js";import{C as bn}from"./clock-C56MbyDU.js";import{C as wn}from"./chevron-left-b7X0tjcc.js";import{C as Sn}from"./circle-check-DAVIKFey.js";import{S as xn}from"./save-D3ZHDlxg.js";/* empty css            */import"./index-CuzgK42c.js";import"./index-DW9AIAM8.js";import"./index-CCL8Hooa.js";import"./input-CZPc4iR6.js";const yn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cn=ve("Circle",yn);const jn=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],Lt=ve("Flag",jn);const Pn=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],mt=ve("Lightbulb",Pn);const Nn=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],pt=ve("Menu",Nn);const kn=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],_n=ve("RefreshCcw",kn);const Tn=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],An=ve("ZoomIn",Tn);const En=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Rn=ve("ZoomOut",En);function Yn(r,e){return b.useReducer((t,n)=>e[t][n]??t,r)}var Je="ScrollArea",[Bt,ba]=Ke(Je),[On,J]=Bt(Je),Ht=b.forwardRef((r,e)=>{const{__scopeScrollArea:t,type:n="hover",dir:o,scrollHideDelay:i=600,...a}=r,[s,d]=b.useState(null),[u,c]=b.useState(null),[m,f]=b.useState(null),[p,g]=b.useState(null),[v,h]=b.useState(null),[w,x]=b.useState(0),[S,N]=b.useState(0),[j,_]=b.useState(!1),[T,A]=b.useState(!1),y=oe(e,Y=>d(Y)),C=_t(o);return l.jsx(On,{scope:t,type:n,dir:C,scrollHideDelay:i,scrollArea:s,viewport:u,onViewportChange:c,content:m,onContentChange:f,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:_,scrollbarY:v,onScrollbarYChange:h,scrollbarYEnabled:T,onScrollbarYEnabledChange:A,onCornerWidthChange:x,onCornerHeightChange:N,children:l.jsx(ie.div,{dir:C,...a,ref:y,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":S+"px",...r.style}})})});Ht.displayName=Je;var Vt="ScrollAreaViewport",$t=b.forwardRef((r,e)=>{const{__scopeScrollArea:t,children:n,nonce:o,...i}=r,a=J(Vt,t),s=b.useRef(null),d=oe(e,s,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),l.jsx(ie.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...r.style},children:l.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});$t.displayName=Vt;var re="ScrollAreaScrollbar",qe=b.forwardRef((r,e)=>{const{forceMount:t,...n}=r,o=J(re,r.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=o,s=r.orientation==="horizontal";return b.useEffect(()=>(s?i(!0):a(!0),()=>{s?i(!1):a(!1)}),[s,i,a]),o.type==="hover"?l.jsx(Xn,{...n,ref:e,forceMount:t}):o.type==="scroll"?l.jsx(Dn,{...n,ref:e,forceMount:t}):o.type==="auto"?l.jsx(Ft,{...n,ref:e,forceMount:t}):o.type==="always"?l.jsx(Ie,{...n,ref:e}):null});qe.displayName=re;var Xn=b.forwardRef((r,e)=>{const{forceMount:t,...n}=r,o=J(re,r.__scopeScrollArea),[i,a]=b.useState(!1);return b.useEffect(()=>{const s=o.scrollArea;let d=0;if(s){const u=()=>{window.clearTimeout(d),a(!0)},c=()=>{d=window.setTimeout(()=>a(!1),o.scrollHideDelay)};return s.addEventListener("pointerenter",u),s.addEventListener("pointerleave",c),()=>{window.clearTimeout(d),s.removeEventListener("pointerenter",u),s.removeEventListener("pointerleave",c)}}},[o.scrollArea,o.scrollHideDelay]),l.jsx(Se,{present:t||i,children:l.jsx(Ft,{"data-state":i?"visible":"hidden",...n,ref:e})})}),Dn=b.forwardRef((r,e)=>{const{forceMount:t,...n}=r,o=J(re,r.__scopeScrollArea),i=r.orientation==="horizontal",a=Ee(()=>d("SCROLL_END"),100),[s,d]=Yn("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,o.scrollHideDelay,d]),b.useEffect(()=>{const u=o.viewport,c=i?"scrollLeft":"scrollTop";if(u){let m=u[c];const f=()=>{const p=u[c];m!==p&&(d("SCROLL"),a()),m=p};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[o.viewport,i,d,a]),l.jsx(Se,{present:t||s!=="hidden",children:l.jsx(Ie,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:te(r.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:te(r.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Ft=b.forwardRef((r,e)=>{const t=J(re,r.__scopeScrollArea),{forceMount:n,...o}=r,[i,a]=b.useState(!1),s=r.orientation==="horizontal",d=Ee(()=>{if(t.viewport){const u=t.viewport.offsetWidth<t.viewport.scrollWidth,c=t.viewport.offsetHeight<t.viewport.scrollHeight;a(s?u:c)}},10);return be(t.viewport,d),be(t.content,d),l.jsx(Se,{present:n||i,children:l.jsx(Ie,{"data-state":i?"visible":"hidden",...o,ref:e})})}),Ie=b.forwardRef((r,e)=>{const{orientation:t="vertical",...n}=r,o=J(re,r.__scopeScrollArea),i=b.useRef(null),a=b.useRef(0),[s,d]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Gt(s.viewport,s.content),c={...n,sizes:s,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function m(f,p){return Hn(f,a.current,s,p)}return t==="horizontal"?l.jsx(zn,{...c,ref:e,onThumbPositionChange:()=>{if(o.viewport&&i.current){const f=o.viewport.scrollLeft,p=ht(f,s,o.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{o.viewport&&(o.viewport.scrollLeft=f)},onDragScroll:f=>{o.viewport&&(o.viewport.scrollLeft=m(f,o.dir))}}):t==="vertical"?l.jsx(Mn,{...c,ref:e,onThumbPositionChange:()=>{if(o.viewport&&i.current){const f=o.viewport.scrollTop,p=ht(f,s);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{o.viewport&&(o.viewport.scrollTop=f)},onDragScroll:f=>{o.viewport&&(o.viewport.scrollTop=m(f))}}):null}),zn=b.forwardRef((r,e)=>{const{sizes:t,onSizesChange:n,...o}=r,i=J(re,r.__scopeScrollArea),[a,s]=b.useState(),d=b.useRef(null),u=oe(e,d,i.onScrollbarXChange);return b.useEffect(()=>{d.current&&s(getComputedStyle(d.current))},[d]),l.jsx(Ut,{"data-orientation":"horizontal",...o,ref:u,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ae(t)+"px",...r.style},onThumbPointerDown:c=>r.onThumbPointerDown(c.x),onDragScroll:c=>r.onDragScroll(c.x),onWheelScroll:(c,m)=>{if(i.viewport){const f=i.viewport.scrollLeft+c.deltaX;r.onWheelScroll(f),qt(f,m)&&c.preventDefault()}},onResize:()=>{d.current&&i.viewport&&a&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Te(a.paddingLeft),paddingEnd:Te(a.paddingRight)}})}})}),Mn=b.forwardRef((r,e)=>{const{sizes:t,onSizesChange:n,...o}=r,i=J(re,r.__scopeScrollArea),[a,s]=b.useState(),d=b.useRef(null),u=oe(e,d,i.onScrollbarYChange);return b.useEffect(()=>{d.current&&s(getComputedStyle(d.current))},[d]),l.jsx(Ut,{"data-orientation":"vertical",...o,ref:u,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ae(t)+"px",...r.style},onThumbPointerDown:c=>r.onThumbPointerDown(c.y),onDragScroll:c=>r.onDragScroll(c.y),onWheelScroll:(c,m)=>{if(i.viewport){const f=i.viewport.scrollTop+c.deltaY;r.onWheelScroll(f),qt(f,m)&&c.preventDefault()}},onResize:()=>{d.current&&i.viewport&&a&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Te(a.paddingTop),paddingEnd:Te(a.paddingBottom)}})}})}),[Wn,Zt]=Bt(re),Ut=b.forwardRef((r,e)=>{const{__scopeScrollArea:t,sizes:n,hasThumb:o,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:c,onResize:m,...f}=r,p=J(re,t),[g,v]=b.useState(null),h=oe(e,y=>v(y)),w=b.useRef(null),x=b.useRef(""),S=p.viewport,N=n.content-n.viewport,j=me(c),_=me(d),T=Ee(m,10);function A(y){if(w.current){const C=y.clientX-w.current.left,Y=y.clientY-w.current.top;u({x:C,y:Y})}}return b.useEffect(()=>{const y=C=>{const Y=C.target;g?.contains(Y)&&j(C,N)};return document.addEventListener("wheel",y,{passive:!1}),()=>document.removeEventListener("wheel",y,{passive:!1})},[S,g,N,j]),b.useEffect(_,[n,_]),be(g,T),be(p.content,T),l.jsx(Wn,{scope:t,scrollbar:g,hasThumb:o,onThumbChange:me(i),onThumbPointerUp:me(a),onThumbPositionChange:_,onThumbPointerDown:me(s),children:l.jsx(ie.div,{...f,ref:h,style:{position:"absolute",...f.style},onPointerDown:te(r.onPointerDown,y=>{y.button===0&&(y.target.setPointerCapture(y.pointerId),w.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),A(y))}),onPointerMove:te(r.onPointerMove,A),onPointerUp:te(r.onPointerUp,y=>{const C=y.target;C.hasPointerCapture(y.pointerId)&&C.releasePointerCapture(y.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),_e="ScrollAreaThumb",Kt=b.forwardRef((r,e)=>{const{forceMount:t,...n}=r,o=Zt(_e,r.__scopeScrollArea);return l.jsx(Se,{present:t||o.hasThumb,children:l.jsx(Ln,{ref:e,...n})})}),Ln=b.forwardRef((r,e)=>{const{__scopeScrollArea:t,style:n,...o}=r,i=J(_e,t),a=Zt(_e,t),{onThumbPositionChange:s}=a,d=oe(e,m=>a.onThumbChange(m)),u=b.useRef(void 0),c=Ee(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const m=i.viewport;if(m){const f=()=>{if(c(),!u.current){const p=Vn(m,s);u.current=p,s()}};return s(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[i.viewport,c,s]),l.jsx(ie.div,{"data-state":a.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:te(r.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),g=m.clientX-p.left,v=m.clientY-p.top;a.onThumbPointerDown({x:g,y:v})}),onPointerUp:te(r.onPointerUp,a.onThumbPointerUp)})});Kt.displayName=_e;var et="ScrollAreaCorner",Qt=b.forwardRef((r,e)=>{const t=J(et,r.__scopeScrollArea),n=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&n?l.jsx(Bn,{...r,ref:e}):null});Qt.displayName=et;var Bn=b.forwardRef((r,e)=>{const{__scopeScrollArea:t,...n}=r,o=J(et,t),[i,a]=b.useState(0),[s,d]=b.useState(0),u=!!(i&&s);return be(o.scrollbarX,()=>{const c=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(c),d(c)}),be(o.scrollbarY,()=>{const c=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(c),a(c)}),u?l.jsx(ie.div,{...n,ref:e,style:{width:i,height:s,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...r.style}}):null});function Te(r){return r?parseInt(r,10):0}function Gt(r,e){const t=r/e;return isNaN(t)?0:t}function Ae(r){const e=Gt(r.viewport,r.content),t=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,n=(r.scrollbar.size-t)*e;return Math.max(n,18)}function Hn(r,e,t,n="ltr"){const o=Ae(t),i=o/2,a=e||i,s=o-a,d=t.scrollbar.paddingStart+a,u=t.scrollbar.size-t.scrollbar.paddingEnd-s,c=t.content-t.viewport,m=n==="ltr"?[0,c]:[c*-1,0];return Jt([d,u],m)(r)}function ht(r,e,t="ltr"){const n=Ae(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-o,a=e.content-e.viewport,s=i-n,d=t==="ltr"?[0,a]:[a*-1,0],u=zr(r,d);return Jt([0,a],[0,s])(u)}function Jt(r,e){return t=>{if(r[0]===r[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(r[1]-r[0]);return e[0]+n*(t-r[0])}}function qt(r,e){return r>0&&r<e}var Vn=(r,e=()=>{})=>{let t={left:r.scrollLeft,top:r.scrollTop},n=0;return(function o(){const i={left:r.scrollLeft,top:r.scrollTop},a=t.left!==i.left,s=t.top!==i.top;(a||s)&&e(),t=i,n=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(n)};function Ee(r,e){const t=me(r),n=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),b.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(t,e)},[t,e])}function be(r,e){const t=me(e);Xr(()=>{let n=0;if(r){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(t)});return o.observe(r),()=>{window.cancelAnimationFrame(n),o.unobserve(r)}}},[r,t])}var It=Ht,$n=$t,Fn=Qt;const tt=b.forwardRef((r,e)=>{const t=X.c(15);let n,o,i;t[0]!==r?({className:o,children:n,...i}=r,t[0]=r,t[1]=n,t[2]=o,t[3]=i):(n=t[1],o=t[2],i=t[3]);let a;t[4]!==o?(a=V("relative overflow-hidden",o),t[4]=o,t[5]=a):a=t[5];let s;t[6]!==n?(s=l.jsx($n,{className:"h-full w-full rounded-[inherit]",children:n}),t[6]=n,t[7]=s):s=t[7];let d,u;t[8]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(er,{}),u=l.jsx(Fn,{}),t[8]=d,t[9]=u):(d=t[8],u=t[9]);let c;return t[10]!==i||t[11]!==e||t[12]!==a||t[13]!==s?(c=l.jsxs(It,{ref:e,className:a,...i,children:[s,d,u]}),t[10]=i,t[11]=e,t[12]=a,t[13]=s,t[14]=c):c=t[14],c});tt.displayName=It.displayName;const er=b.forwardRef((r,e)=>{const t=X.c(14);let n,o,i;t[0]!==r?({className:n,orientation:i,...o}=r,t[0]=r,t[1]=n,t[2]=o,t[3]=i):(n=t[1],o=t[2],i=t[3]);const a=i===void 0?"vertical":i,s=a==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",d=a==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]";let u;t[4]!==n||t[5]!==s||t[6]!==d?(u=V("flex touch-none select-none transition-colors",s,d,n),t[4]=n,t[5]=s,t[6]=d,t[7]=u):u=t[7];let c;t[8]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(Kt,{className:"relative flex-1 rounded-full bg-slate-200 dark:bg-slate-800"}),t[8]=c):c=t[8];let m;return t[9]!==a||t[10]!==o||t[11]!==e||t[12]!==u?(m=l.jsx(qe,{ref:e,orientation:a,className:u,...o,children:c}),t[9]=a,t[10]=o,t[11]=e,t[12]=u,t[13]=m):m=t[13],m});er.displayName=qe.displayName;var rt="Radio",[Zn,tr]=Ke(rt),[Un,Kn]=Zn(rt),rr=b.forwardRef((r,e)=>{const{__scopeRadio:t,name:n,checked:o=!1,required:i,disabled:a,value:s="on",onCheck:d,form:u,...c}=r,[m,f]=b.useState(null),p=oe(e,h=>f(h)),g=b.useRef(!1),v=m?u||!!m.closest("form"):!0;return l.jsxs(Un,{scope:t,checked:o,disabled:a,children:[l.jsx(ie.button,{type:"button",role:"radio","aria-checked":o,"data-state":ar(o),"data-disabled":a?"":void 0,disabled:a,value:s,...c,ref:p,onClick:te(r.onClick,h=>{o||d?.(),v&&(g.current=h.isPropagationStopped(),g.current||h.stopPropagation())})}),v&&l.jsx(ir,{control:m,bubbles:!g.current,name:n,value:s,checked:o,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});rr.displayName=rt;var nr="RadioIndicator",or=b.forwardRef((r,e)=>{const{__scopeRadio:t,forceMount:n,...o}=r,i=Kn(nr,t);return l.jsx(Se,{present:n||i.checked,children:l.jsx(ie.span,{"data-state":ar(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:e})})});or.displayName=nr;var Qn="RadioBubbleInput",ir=b.forwardRef(({__scopeRadio:r,control:e,checked:t,bubbles:n=!0,...o},i)=>{const a=b.useRef(null),s=oe(a,i),d=Zr(t),u=Fr(e);return b.useEffect(()=>{const c=a.current;if(!c)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==t&&p){const g=new Event("click",{bubbles:n});p.call(c,t),c.dispatchEvent(g)}},[d,t,n]),l.jsx(ie.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:s,style:{...o.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ir.displayName=Qn;function ar(r){return r?"checked":"unchecked"}var Gn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Re="RadioGroup",[Jn,wa]=Ke(Re,[Tt,tr]),sr=Tt(),lr=tr(),[qn,In]=Jn(Re),dr=b.forwardRef((r,e)=>{const{__scopeRadioGroup:t,name:n,defaultValue:o,value:i,required:a=!1,disabled:s=!1,orientation:d,dir:u,loop:c=!0,onValueChange:m,...f}=r,p=sr(t),g=_t(u),[v,h]=Dr({prop:i,defaultProp:o??null,onChange:m,caller:Re});return l.jsx(qn,{scope:t,name:n,required:a,disabled:s,value:v,onValueChange:h,children:l.jsx($r,{asChild:!0,...p,orientation:d,dir:g,loop:c,children:l.jsx(ie.div,{role:"radiogroup","aria-required":a,"aria-orientation":d,"data-disabled":s?"":void 0,dir:g,...f,ref:e})})})});dr.displayName=Re;var cr="RadioGroupItem",ur=b.forwardRef((r,e)=>{const{__scopeRadioGroup:t,disabled:n,...o}=r,i=In(cr,t),a=i.disabled||n,s=sr(t),d=lr(t),u=b.useRef(null),c=oe(e,u),m=i.value===o.value,f=b.useRef(!1);return b.useEffect(()=>{const p=v=>{Gn.includes(v.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),l.jsx(Vr,{asChild:!0,...s,focusable:!a,active:m,children:l.jsx(rr,{disabled:a,required:i.required,checked:m,...d,...o,name:i.name,ref:c,onCheck:()=>i.onValueChange(o.value),onKeyDown:te(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:te(o.onFocus,()=>{f.current&&u.current?.click()})})})});ur.displayName=cr;var eo="RadioGroupIndicator",fr=b.forwardRef((r,e)=>{const{__scopeRadioGroup:t,...n}=r,o=lr(t);return l.jsx(or,{...o,...n,ref:e})});fr.displayName=eo;var mr=dr,pr=ur,to=fr;const hr=b.forwardRef((r,e)=>{const t=X.c(9);let n,o;t[0]!==r?({className:n,...o}=r,t[0]=r,t[1]=n,t[2]=o):(n=t[1],o=t[2]);let i;t[3]!==n?(i=V("grid gap-2",n),t[3]=n,t[4]=i):i=t[4];let a;return t[5]!==o||t[6]!==e||t[7]!==i?(a=l.jsx(mr,{className:i,...o,ref:e}),t[5]=o,t[6]=e,t[7]=i,t[8]=a):a=t[8],a});hr.displayName=mr.displayName;const vr=b.forwardRef((r,e)=>{const t=X.c(10);let n,o;t[0]!==r?({className:n,...o}=r,t[0]=r,t[1]=n,t[2]=o):(n=t[1],o=t[2]);let i;t[3]!==n?(i=V("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),t[3]=n,t[4]=i):i=t[4];let a;t[5]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(to,{className:"flex items-center justify-center",children:l.jsx(Cn,{className:"h-2.5 w-2.5 fill-current text-current"})}),t[5]=a):a=t[5];let s;return t[6]!==o||t[7]!==e||t[8]!==i?(s=l.jsx(pr,{ref:e,className:i,...o,children:a}),t[6]=o,t[7]=e,t[8]=i,t[9]=s):s=t[9],s});vr.displayName=pr.displayName;function gr(r){const e=X.c(14),{options:t,value:n,onChange:o,disabled:i,showMedia:a,onImageClick:s}=r,d=a===void 0?!0:a,u=n;let c;e[0]!==t?(c=Object.entries(t||{}),e[0]=t,e[1]=c):c=e[1];let m;e[2]!==i||e[3]!==o||e[4]!==s||e[5]!==d||e[6]!==c||e[7]!==n?(m=c.map(p=>{const[g,v]=p;return l.jsxs("div",{onClick:()=>!i&&o(g),className:V("flex items-center space-x-3 border rounded-lg p-4 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",String(n)===String(g)?"border-blue-500 bg-blue-50 dark:bg-blue-950/40":"border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900",i&&"cursor-default"),children:[l.jsx(vr,{value:g,id:`opt-${g}`,className:i?"data-[state=checked]:text-blue-600 data-[state=checked]:bg-blue-600":""}),l.jsx(At,{htmlFor:`opt-${g}`,className:"flex-1 cursor-pointer font-normal",children:l.jsxs("div",{className:"text-slate-700 dark:text-slate-300",children:[d&&v.media_url&&l.jsx("div",{className:"mb-3",children:l.jsx("img",{src:v.media_url,alt:"Option Media",className:"max-h-[100px] w-auto rounded-md object-contain border bg-white dark:bg-slate-900 cursor-pointer hover:shadow-lg transition-shadow",onClick:h=>{h.stopPropagation(),s?.(v.media_url)}})}),l.jsx(Qe,{content:v.content})]})})]},g)}),e[2]=i,e[3]=o,e[4]=s,e[5]=d,e[6]=c,e[7]=n,e[8]=m):m=e[8];let f;return e[9]!==i||e[10]!==o||e[11]!==u||e[12]!==m?(f=l.jsx(hr,{value:u,onValueChange:o,className:"space-y-3",disabled:i,children:m}),e[9]=i,e[10]=o,e[11]=u,e[12]=m,e[13]=f):f=e[13],f}function ro(r){const e=X.c(15),{options:t,value:n,onChange:o,disabled:i,showMedia:a,onImageClick:s}=r,d=a===void 0?!0:a;let u;e[0]!==n?(u=Array.isArray(n)?n:[],e[0]=n,e[1]=u):u=e[1];const c=u;let m;e[2]!==i||e[3]!==o||e[4]!==c?(m=v=>{if(i)return;let h;c.includes(v)?h=c.filter(w=>w!==v):h=[...c,v],o(h)},e[2]=i,e[3]=o,e[4]=c,e[5]=m):m=e[5];const f=m;let p;e[6]!==t?(p=Object.entries(t||{}),e[6]=t,e[7]=p):p=e[7];let g;return e[8]!==i||e[9]!==s||e[10]!==c||e[11]!==d||e[12]!==p||e[13]!==f?(g=l.jsx("div",{className:"space-y-3",children:p.map(v=>{const[h,w]=v;return l.jsxs("div",{onClick:()=>f(h),className:V("flex items-center space-x-3 border rounded-lg p-4 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",c.map(String).includes(String(h))?"border-blue-500 bg-blue-50 dark:bg-blue-950/40":"border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900",i&&"cursor-default"),children:[l.jsx(Kr,{checked:c.map(String).includes(String(h)),id:`opt-${h}`,disabled:i,className:i?"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600":""}),l.jsx(At,{htmlFor:`opt-${h}`,className:"flex-1 cursor-pointer font-normal ml-1",children:l.jsxs("div",{className:"text-slate-700 dark:text-slate-300",children:[d&&w.media_url&&l.jsx("div",{className:"mb-3",children:l.jsx("img",{src:w.media_url,alt:"Option Media",className:"max-h-[100px] w-auto rounded-md object-contain border bg-white dark:bg-slate-900 cursor-pointer hover:shadow-lg transition-shadow",onClick:x=>{x.stopPropagation(),s?.(w.media_url)}})}),l.jsx(Qe,{content:w.content})]})})]},h)})}),e[8]=i,e[9]=s,e[10]=c,e[11]=d,e[12]=p,e[13]=f,e[14]=g):g=e[14],g}function no(r){const e=X.c(2);let t;return e[0]!==r?(t=l.jsx(gr,{...r}),e[0]=r,e[1]=t):t=e[1],t}function oo(r){const e=X.c(6),{value:t,onChange:n,disabled:o}=r,i=t||"";let a;e[0]!==n?(a=d=>n(d),e[0]=n,e[1]=a):a=e[1];let s;return e[2]!==o||e[3]!==i||e[4]!==a?(s=l.jsx("div",{className:"space-y-2",children:l.jsx(Ge,{value:i,onChange:a,placeholder:"Ketik jawaban esai Anda di sini...",readOnly:o})}),e[2]=o,e[3]=i,e[4]=a,e[5]=s):s=e[5],s}function io(r){const e=X.c(6),{value:t,onChange:n,disabled:o}=r,i=t||"";let a;e[0]!==n?(a=d=>n(d),e[0]=n,e[1]=a):a=e[1];let s;return e[2]!==o||e[3]!==i||e[4]!==a?(s=l.jsx("div",{className:"space-y-2",children:l.jsx(Qr,{className:"w-full p-4 text-lg border rounded-lg bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Masukkan jawaban angka atau formula matematika...",value:i,onChange:a,readOnly:o})}),e[2]=o,e[3]=i,e[4]=a,e[5]=s):s=e[5],s}function ao(r){const e=X.c(28),{id:t,content:n,mediaUrl:o,showMedia:i,onImageClick:a}=r,s=i===void 0?!0:i;let d;e[0]!==t?(d={id:t},e[0]=t,e[1]=d):d=e[1];const{attributes:u,listeners:c,setNodeRef:m,transform:f,transition:p,isDragging:g}=Xt(d);let v;e[2]!==f?(v=Dt.Transform.toString(f),e[2]=f,e[3]=v):v=e[3];let h;e[4]!==v||e[5]!==p?(h={transform:v,transition:p},e[4]=v,e[5]=p,e[6]=h):h=e[6];const w=h,x=g&&"opacity-50 ring-2 ring-blue-500";let S;e[7]!==x?(S=V("flex items-center gap-3 p-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg",x),e[7]=x,e[8]=S):S=e[8];let N;e[9]===Symbol.for("react.memo_cache_sentinel")?(N=l.jsx(rn,{className:"w-5 h-5"}),e[9]=N):N=e[9];let j;e[10]!==u||e[11]!==c?(j=l.jsx("button",{...u,...c,className:"cursor-grab active:cursor-grabbing text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:N}),e[10]=u,e[11]=c,e[12]=j):j=e[12];let _;e[13]!==o||e[14]!==a||e[15]!==s?(_=s&&o&&l.jsx("div",{className:"mb-2",children:l.jsx("img",{src:o,alt:"Option Media",className:"max-h-[100px] w-auto rounded-md object-contain border bg-white dark:bg-slate-900 cursor-pointer hover:shadow-lg transition-shadow",onClick:C=>{C.stopPropagation(),a?.(o)}})}),e[13]=o,e[14]=a,e[15]=s,e[16]=_):_=e[16];let T;e[17]!==n?(T=l.jsx(Qe,{className:"text-slate-700 dark:text-slate-300",content:n}),e[17]=n,e[18]=T):T=e[18];let A;e[19]!==T||e[20]!==_?(A=l.jsxs("div",{className:"flex-1",children:[_,T]}),e[19]=T,e[20]=_,e[21]=A):A=e[21];let y;return e[22]!==m||e[23]!==w||e[24]!==A||e[25]!==S||e[26]!==j?(y=l.jsxs("div",{ref:m,style:w,className:S,children:[j,A]}),e[22]=m,e[23]=w,e[24]=A,e[25]=S,e[26]=j,e[27]=y):y=e[27],y}function so(r){const e=X.c(25),{options:t,value:n,onChange:o,disabled:i,showMedia:a,onImageClick:s}=r,d=a===void 0?!0:a;let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u={coordinateGetter:Jr},e[0]=u):u=e[0];const c=Et(ke(Rt),ke(Gr,u));let m;e[1]!==t||e[2]!==n?(m=Array.isArray(n)&&n.length>0?n:Object.keys(t||{}),e[1]=t,e[2]=n,e[3]=m):m=e[3];const f=m;let p;e[4]!==i||e[5]!==o||e[6]!==f?(p=S=>{if(i)return;const{active:N,over:j}=S;if(j&&N.id!==j.id){const _=f.indexOf(N.id),T=f.indexOf(j.id),A=He(f,_,T);o(A)}},e[4]=i,e[5]=o,e[6]=f,e[7]=p):p=e[7];const g=p;let v;e[8]===Symbol.for("react.memo_cache_sentinel")?(v=l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Seret dan lepas untuk mengurutkan jawaban:"}),e[8]=v):v=e[8];let h;if(e[9]!==s||e[10]!==t||e[11]!==f||e[12]!==d){let S;e[14]!==s||e[15]!==t||e[16]!==d?(S=N=>{const j=t?.[N];return j?l.jsx(ao,{id:N,content:j.content,mediaUrl:j.media_url,showMedia:d,onImageClick:s},N):null},e[14]=s,e[15]=t,e[16]=d,e[17]=S):S=e[17],h=f.map(S),e[9]=s,e[10]=t,e[11]=f,e[12]=d,e[13]=h}else h=e[13];let w;e[18]!==f||e[19]!==h?(w=l.jsx(Ve,{items:f,strategy:qr,children:h}),e[18]=f,e[19]=h,e[20]=w):w=e[20];let x;return e[21]!==g||e[22]!==c||e[23]!==w?(x=l.jsxs("div",{className:"space-y-3",children:[v,l.jsx(Yt,{sensors:c,collisionDetection:Ot,onDragEnd:g,children:w})]}),e[21]=g,e[22]=c,e[23]=w,e[24]=x):x=e[24],x}function lo(r){const e=X.c(15),{data:t}=r,n=t.colorClass;let o;e[0]!==n?(o=V("relative p-3 rounded-lg border-2 text-sm flex flex-col min-h-[100px] bg-card w-[400px] shadow-sm",n),e[0]=n,e[1]=o):o=e[1];let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx("div",{className:"text-xs font-bold text-muted-foreground mb-2",children:"Premis"}),e[2]=i):i=e[2];let a;e[3]!==t.mediaUrl||e[4]!==t.onImageClick?(a=t.mediaUrl&&l.jsx("img",{src:t.mediaUrl,alt:"Premise",className:"h-24 w-auto rounded-md border object-contain cursor-pointer hover:shadow-lg transition-shadow bg-white dark:bg-slate-900",onClick:f=>{f.stopPropagation(),typeof t.onImageClick=="function"&&t.onImageClick(t.mediaUrl)}}),e[3]=t.mediaUrl,e[4]=t.onImageClick,e[5]=a):a=e[5];const s=t.content;let d;e[6]!==s?(d=l.jsx(Ge,{value:s,readOnly:!0,className:"border-0 bg-transparent p-0 min-h-0 text-sm"}),e[6]=s,e[7]=d):d=e[7];let u;e[8]!==a||e[9]!==d?(u=l.jsxs("div",{className:"space-y-2 flex-1",children:[a,d]}),e[8]=a,e[9]=d,e[10]=u):u=e[10];let c;e[11]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(zt,{type:"source",position:Mt.Right,style:{width:"1.5em",height:"1.5em"},className:"w-3 h-3 bg-muted-foreground border-2 border-background transform translate-x-1/2"}),e[11]=c):c=e[11];let m;return e[12]!==o||e[13]!==u?(m=l.jsxs("div",{className:o,children:[i,u,c]}),e[12]=o,e[13]=u,e[14]=m):m=e[14],m}function co(r){const e=X.c(11),{data:t}=r;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=V("relative p-3 rounded-lg border-2 text-sm flex flex-col min-h-[100px] bg-white dark:bg-slate-950 w-[400px] shadow-sm"),e[0]=n):n=e[0];let o,i;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(zt,{type:"target",position:Mt.Left,style:{width:"1.5em",height:"1.5em"},className:"w-3 h-3 bg-muted-foreground border-2 border-background transform -translate-x-1/2"}),i=l.jsx("div",{className:"text-xs font-bold text-muted-foreground mb-2",children:"Respon"}),e[1]=o,e[2]=i):(o=e[1],i=e[2]);let a;e[3]!==t.mediaUrl||e[4]!==t.onImageClick?(a=t.mediaUrl&&l.jsx("img",{src:t.mediaUrl,alt:"Response",className:"h-24 w-auto rounded-md border object-contain cursor-pointer hover:shadow-lg transition-shadow bg-white dark:bg-slate-900",onClick:c=>{c.stopPropagation(),typeof t.onImageClick=="function"&&t.onImageClick(t.mediaUrl)}}),e[3]=t.mediaUrl,e[4]=t.onImageClick,e[5]=a):a=e[5];const s=t.content;let d;e[6]!==s?(d=l.jsx(Ge,{value:s,readOnly:!0,className:"border-0 bg-transparent p-0 min-h-0 text-sm"}),e[6]=s,e[7]=d):d=e[7];let u;return e[8]!==a||e[9]!==d?(u=l.jsxs("div",{className:n,children:[o,i,l.jsxs("div",{className:"space-y-2 flex-1",children:[a,d]})]}),e[8]=a,e[9]=d,e[10]=u):u=e[10],u}const uo={leftNode:lo,rightNode:co};function fo(r){const e=X.c(23),{sourceX:t,sourceY:n,targetX:o,targetY:i,sourcePosition:a,targetPosition:s,style:d,markerEnd:u,data:c}=r;let m;e[0]!==d?(m=d===void 0?{}:d,e[0]=d,e[1]=m):m=e[1];const f=m;let p;e[2]!==a||e[3]!==t||e[4]!==n||e[5]!==s||e[6]!==o||e[7]!==i?(p=un({sourceX:t,sourceY:n,sourcePosition:a,targetX:o,targetY:i,targetPosition:s}),e[2]=a,e[3]=t,e[4]=n,e[5]=s,e[6]=o,e[7]=i,e[8]=p):p=e[8];const[g,v,h]=p;let w;e[9]!==c?(w=T=>{T.stopPropagation(),c?.onDelete&&typeof c.onDelete=="function"&&c.onDelete()},e[9]=c,e[10]=w):w=e[10];const x=w,S=c?.onDelete&&!c?.disabled;let N;e[11]!==g||e[12]!==u||e[13]!==f?(N=l.jsx(fn,{path:g,markerEnd:u,style:f}),e[11]=g,e[12]=u,e[13]=f,e[14]=N):N=e[14];let j;e[15]!==v||e[16]!==h||e[17]!==x||e[18]!==S?(j=S&&l.jsx(mn,{children:l.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${v}px,${h}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:l.jsxs("button",{className:"px-2 py-1 rounded-full bg-red-500 text-white hover:bg-red-600 shadow-sm flex items-center gap-1 border border-white transition-colors text-[10px] font-bold uppercase tracking-wider",onClick:x,type:"button","aria-label":"Delete connection",title:"Hapus Koneksi",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M18 6 6 18"}),l.jsx("path",{d:"m6 6 12 12"})]}),"Delete"]})})}),e[15]=v,e[16]=h,e[17]=x,e[18]=S,e[19]=j):j=e[19];let _;return e[20]!==N||e[21]!==j?(_=l.jsxs(l.Fragment,{children:[N,j]}),e[20]=N,e[21]=j,e[22]=_):_=e[22],_}const mo={"button-edge":fo},vt=r=>{if(!r)return"border-border bg-card";const e=["border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950/30","border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-950/30","border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950/30","border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-950/30","border-purple-200 bg-purple-50 dark:border-purple-800 dark:bg-purple-950/30","border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-950/30"],t=typeof r=="number"?r:parseInt(r)||0;return e[(t-1)%e.length]};function po({options:r,value:e,onChange:t,disabled:n,showMedia:o=!0,onImageClick:i}){const[a,s,d]=on([]),[u,c,m]=an([]),f=b.useCallback(h=>{if(n)return;const w={...e};delete w[h],t(w)},[n,e,t]);b.useEffect(()=>{if(!r)return;const h=Object.entries(r).filter(([y,C])=>C.metadata?.side==="left"||y.startsWith("L")),w=Object.entries(r).filter(([y,C])=>C.metadata?.side==="right"||y.startsWith("R")),x=[],S=50,N=700,j=50,_=180;h.forEach(([y,C],Y)=>{x.push({id:y,type:"leftNode",position:{x:S,y:j+Y*_},data:{content:C.content||"",mediaUrl:o!==!1?C.media_url||C.media:null,colorClass:vt(C.metadata?.pair_id||C.pair_id),onImageClick:i}})}),w.forEach(([y,C],Y)=>{x.push({id:y,type:"rightNode",position:{x:N,y:j+Y*_},data:{content:C.content||"",mediaUrl:o!==!1?C.media_url||C.media:null,pairId:C.metadata?.pair_id||C.pair_id,colorClass:vt(C.metadata?.pair_id||C.pair_id),onImageClick:i}})}),s(x);const T=e||{},A=[];Object.entries(T).forEach(([y,C])=>{C&&A.push({id:`e-${y}-${C}`,source:y,target:C,type:"button-edge",animated:!0,style:{strokeWidth:4},markerEnd:{type:ft.ArrowClosed},data:{onDelete:()=>f(y),disabled:n}})}),c(A)},[r,e,n,f]);const p=b.useCallback(h=>{if(n)return;c(x=>{const S=x.filter(N=>N.source!==h.source);return sn({...h,type:"button-edge",animated:!0,style:{strokeWidth:4},markerEnd:{type:ft.ArrowClosed},data:{onDelete:()=>f(h.source||""),disabled:n}},S)});const w={...e};h.source&&h.target&&(w[h.source]=h.target),t(w)},[n,e,t]),g=Math.max(Object.entries(r||{}).filter(([h,w])=>w.metadata?.side==="left"||h.startsWith("L")).length,Object.entries(r||{}).filter(([h,w])=>w.metadata?.side==="right"||h.startsWith("R")).length),v=Math.max(600,g*180+100);return l.jsx("div",{className:"w-full border rounded-xl bg-muted/10 relative",style:{height:`${v}px`},children:l.jsxs(ln,{nodes:a,edges:u,onNodesChange:d,onEdgesChange:m,onConnect:p,nodeTypes:uo,edgeTypes:mo,nodesDraggable:!1,panOnDrag:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,proOptions:{hideAttribution:!0},fitView:!0,children:[l.jsx(dn,{color:"#94a3b8",gap:20,size:1}),l.jsx(cn,{})]})})}function ho(r){const e=X.c(3);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Hubungkan premis di sebelah kiri dengan respon yang sesuai di sebelah kanan:"}),e[0]=t):t=e[0];let n;return e[1]!==r?(n=l.jsx(nn,{children:l.jsxs("div",{className:"space-y-4",children:[t,l.jsx(po,{...r})]})}),e[1]=r,e[2]=n):n=e[2],n}function gt(r){const e=X.c(16),{id:t,word:n,disabled:o}=r;let i;e[0]!==o||e[1]!==t?(i={id:t,disabled:o},e[0]=o,e[1]=t,e[2]=i):i=e[2];const{attributes:a,listeners:s,setNodeRef:d,transform:u,transition:c,isDragging:m}=Xt(i);let f;e[3]!==u?(f=Dt.Transform.toString(u),e[3]=u,e[4]=f):f=e[4];const p=m?.5:1;let g;e[5]!==f||e[6]!==p||e[7]!==c?(g={transform:f,transition:c,opacity:p},e[5]=f,e[6]=p,e[7]=c,e[8]=g):g=e[8];const v=g,h=`px-3 py-2 bg-background border rounded-md shadow-sm cursor-grab active:cursor-grabbing hover:border-primary select-none ${o?"cursor-default opacity-80":""}`;let w;return e[9]!==a||e[10]!==s||e[11]!==d||e[12]!==v||e[13]!==h||e[14]!==n?(w=l.jsx("div",{ref:d,style:v,...a,...s,className:h,children:n}),e[9]=a,e[10]=s,e[11]=d,e[12]=v,e[13]=h,e[14]=n,e[15]=w):w=e[15],w}function bt(r){const e=X.c(7),{id:t,children:n,className:o}=r;let i;e[0]!==t?(i={id:t},e[0]=t,e[1]=i):i=e[1];const{setNodeRef:a}=tn(i);let s;return e[2]!==n||e[3]!==o||e[4]!==t||e[5]!==a?(s=l.jsx(Ne,{ref:a,id:t,className:o,children:n}),e[2]=n,e[3]=o,e[4]=t,e[5]=a,e[6]=s):s=e[6],s}function vo(r){const e=X.c(55),{options:t,value:n,onChange:o,disabled:i}=r,a=Co;let s;e[0]!==t?(s=a(t),e[0]=t,e[1]=s):s=e[1];const d=s,u=d?.content||"",c=d?.metadata?.delimiter||" ";let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m=[],e[2]=m):m=e[2];const[f,p]=b.useState(m);let g;e[3]===Symbol.for("react.memo_cache_sentinel")?(g=[],e[3]=g):g=e[3];const[v,h]=b.useState(g),[w,x]=b.useState(null);let S;e[4]!==c||e[5]!==u||e[6]!==n?(S=()=>{if(!u)return;const z=u.split(c).filter(yo).map(xo);if(Array.isArray(n)&&n.length>0){const q=new Set,ue=[];n.forEach(H=>{const ne=z.find(ae=>{const[fe]=ae.split("::");return fe===H&&!q.has(ae)});ne&&(ue.push(ne),q.add(ne))}),h(ue);const $=z.filter(H=>!q.has(H));p($.sort(So))}else{const q=[...z].sort(wo);p(q),h([])}},e[4]=c,e[5]=u,e[6]=n,e[7]=S):S=e[7];let N;e[8]!==c||e[9]!==u?(N=[u,c],e[8]=c,e[9]=u,e[10]=N):N=e[10],b.useEffect(S,N);const j=Et(ke(Rt),ke(Ir));let _;e[11]!==i?(_=D=>{i||x(D.active.id)},e[11]=i,e[12]=_):_=e[12];const T=_;let A;if(e[13]!==i||e[14]!==o||e[15]!==v||e[16]!==f){A=z=>{if(i)return;const{active:q,over:ue}=z;if(x(null),!ue)return;const $=q.id,H=ue.id,ne=f.includes($),ae=v.includes($),fe=H==="word-bank"||f.includes(H),Ce=H==="answer-area"||v.includes(H);ne&&Ce?(p(W=>W.filter(F=>F!==$)),h(W=>{const F=[...W],se=W.indexOf(H);return se>=0?F.splice(se,0,$):F.push($),D(F),F})):ae&&fe?(h(W=>{const F=W.filter(se=>se!==$);return D(F),F}),p(W=>[...W,$])):ae&&Ce?$!==H&&h(W=>{const F=W.indexOf($),se=W.indexOf(H),st=He(W,F,se);return D(st),st}):ne&&fe&&$!==H&&p(W=>{const F=W.indexOf($),se=W.indexOf(H);return He(W,F,se)})};const D=z=>{const q=z.map(bo);o?.(q)};e[13]=i,e[14]=o,e[15]=v,e[16]=f,e[17]=A}else A=e[17];const y=go;let C;e[18]===Symbol.for("react.memo_cache_sentinel")?(C=l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Jawaban Anda:"}),e[18]=C):C=e[18];const Y=`min-h-[80px] p-4 flex flex-wrap gap-2 transition-colors ${v.length===0?"bg-muted/50 border-dashed":"bg-background"}`;let L;if(e[19]!==i||e[20]!==v){let D;e[22]!==i?(D=z=>l.jsx(gt,{id:z,word:y(z),disabled:i},z),e[22]=i,e[23]=D):D=e[23],L=v.map(D),e[19]=i,e[20]=v,e[21]=L}else L=e[21];let B;e[24]!==L||e[25]!==v?(B=l.jsx(Ve,{items:v,strategy:ut,children:L}),e[24]=L,e[25]=v,e[26]=B):B=e[26];let Z;e[27]!==v.length?(Z=v.length===0&&l.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground text-sm pointer-events-none",children:"Tarik kata ke sini untuk menyusun kalimat"}),e[27]=v.length,e[28]=Z):Z=e[28];let P;e[29]!==B||e[30]!==Z||e[31]!==Y?(P=l.jsxs("div",{className:"space-y-2",children:[C,l.jsxs(bt,{id:"answer-area",className:Y,children:[B,Z]})]}),e[29]=B,e[30]=Z,e[31]=Y,e[32]=P):P=e[32];let k;e[33]===Symbol.for("react.memo_cache_sentinel")?(k=l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Pilihan Kata:"}),e[33]=k):k=e[33];let E;if(e[34]!==i||e[35]!==f){let D;e[37]!==i?(D=z=>l.jsx(gt,{id:z,word:y(z),disabled:i},z),e[37]=i,e[38]=D):D=e[38],E=f.map(D),e[34]=i,e[35]=f,e[36]=E}else E=e[36];let M;e[39]!==E||e[40]!==f?(M=l.jsxs("div",{className:"space-y-2",children:[k,l.jsx(bt,{id:"word-bank",className:"p-4 bg-muted/20 border-none",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:l.jsx(Ve,{items:f,strategy:ut,children:E})})})]}),e[39]=E,e[40]=f,e[41]=M):M=e[41];let ee;e[42]!==P||e[43]!==M?(ee=l.jsxs("div",{className:"space-y-6",children:[P,M]}),e[42]=P,e[43]=M,e[44]=ee):ee=e[44];let U;e[45]!==w?(U=w?l.jsx("div",{className:"px-3 py-2 bg-background border rounded-md shadow-lg cursor-grabbing opacity-90 scale-105",children:y(w)}):null,e[45]=w,e[46]=U):U=e[46];let K;e[47]!==U?(K=l.jsx(en,{children:U}),e[47]=U,e[48]=K):K=e[48];let ge;return e[49]!==A||e[50]!==T||e[51]!==j||e[52]!==ee||e[53]!==K?(ge=l.jsxs(Yt,{sensors:j,collisionDetection:Ot,onDragStart:T,onDragEnd:A,children:[ee,K]}),e[49]=A,e[50]=T,e[51]=j,e[52]=ee,e[53]=K,e[54]=ge):ge=e[54],ge}function go(r){return r.split("::")[0]}function bo(r){return r.split("::")[0]}function wo(){return Math.random()-.5}function So(){return Math.random()-.5}function xo(r,e){return`${r}::${e}`}function yo(r){return r.length>0}function Co(r){if(!r)return null;if(Array.isArray(r))return r.length>0?r[0]:null;if(r.content)return r;const e=Object.keys(r);return e.length>0?r[e[0]]:null}var G=function(r,e){return Number(r.toFixed(e))},jo=function(r,e){return typeof r=="number"?r:e},O=function(r,e,t){t&&typeof t=="function"&&t(r,e)},Po=function(r){return-Math.cos(r*Math.PI)/2+.5},No=function(r){return r},ko=function(r){return r*r},_o=function(r){return r*(2-r)},To=function(r){return r<.5?2*r*r:-1+(4-2*r)*r},Ao=function(r){return r*r*r},Eo=function(r){return--r*r*r+1},Ro=function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},Yo=function(r){return r*r*r*r},Oo=function(r){return 1- --r*r*r*r},Xo=function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},Do=function(r){return r*r*r*r*r},zo=function(r){return 1+--r*r*r*r*r},Mo=function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r},br={easeOut:Po,linear:No,easeInQuad:ko,easeOutQuad:_o,easeInOutQuad:To,easeInCubic:Ao,easeOutCubic:Eo,easeInOutCubic:Ro,easeInQuart:Yo,easeOutQuart:Oo,easeInOutQuart:Xo,easeInQuint:Do,easeOutQuint:zo,easeInOutQuint:Mo},wr=function(r){typeof r=="number"&&cancelAnimationFrame(r)},I=function(r){r.mounted&&(wr(r.animation),r.animate=!1,r.animation=null,r.velocity=null)};function Sr(r,e,t,n){if(r.mounted){var o=new Date().getTime(),i=1;I(r),r.animation=function(){if(!r.mounted)return wr(r.animation);var a=new Date().getTime()-o,s=a/t,d=br[e],u=d(s);a>=t?(n(i),r.animation=null):r.animation&&(n(u),requestAnimationFrame(r.animation))},requestAnimationFrame(r.animation)}}function Wo(r){var e=r.scale,t=r.positionX,n=r.positionY;return!(Number.isNaN(e)||Number.isNaN(t)||Number.isNaN(n))}function ce(r,e,t,n){var o=Wo(e);if(!(!r.mounted||!o)){var i=r.setTransformState,a=r.transformState,s=a.scale,d=a.positionX,u=a.positionY,c=e.scale-s,m=e.positionX-d,f=e.positionY-u;t===0?i(e.scale,e.positionX,e.positionY):Sr(r,n,t,function(p){var g=s+c*p,v=d+m*p,h=u+f*p;i(g,v,h)})}}function Lo(r,e,t){var n=r.offsetWidth,o=r.offsetHeight,i=e.offsetWidth,a=e.offsetHeight,s=i*t,d=a*t,u=n-s,c=o-d;return{wrapperWidth:n,wrapperHeight:o,newContentWidth:s,newDiffWidth:u,newContentHeight:d,newDiffHeight:c}}var Bo=function(r,e,t,n,o,i,a){var s=r>e?t*(a?1:.5):0,d=n>o?i*(a?1:.5):0,u=r-e-s,c=s,m=n-o-d,f=d;return{minPositionX:u,maxPositionX:c,minPositionY:m,maxPositionY:f}},nt=function(r,e){var t=r.wrapperComponent,n=r.contentComponent,o=r.setup.centerZoomedOut;if(!t||!n)throw new Error("Components are not mounted");var i=Lo(t,n,e),a=i.wrapperWidth,s=i.wrapperHeight,d=i.newContentWidth,u=i.newDiffWidth,c=i.newContentHeight,m=i.newDiffHeight,f=Bo(a,d,u,s,c,m,!!o);return f},$e=function(r,e,t,n){return n?r<e?G(e,2):r>t?G(t,2):G(r,2):G(r,2)},pe=function(r,e){var t=nt(r,e);return r.bounds=t,t};function xe(r,e,t,n,o,i,a){var s=t.minPositionX,d=t.minPositionY,u=t.maxPositionX,c=t.maxPositionY,m=0,f=0;a&&(m=o,f=i);var p=$e(r,s-m,u+m,n),g=$e(e,d-f,c+f,n);return{x:p,y:g}}function Ye(r,e,t,n,o,i){var a=r.transformState,s=a.scale,d=a.positionX,u=a.positionY,c=n-s;if(typeof e!="number"||typeof t!="number")return console.error("Mouse X and Y position were not provided!"),{x:d,y:u};var m=d-e*c,f=u-t*c,p=xe(m,f,o,i,0,0,null);return p}function ye(r,e,t,n,o){var i=o?n:0,a=e-i;return!Number.isNaN(t)&&r>=t?t:!Number.isNaN(e)&&r<=a?a:r}var wt=function(r,e){var t=r.setup.panning.excluded,n=r.isInitialized,o=r.wrapperComponent,i=e.target,a="shadowRoot"in i&&"composedPath"in e,s=a?e.composedPath().some(function(c){return c instanceof Element?o?.contains(c):!1}):o?.contains(i),d=n&&i&&s;if(!d)return!1;var u=Oe(i,t);return!u},St=function(r){var e=r.isInitialized,t=r.isPanning,n=r.setup,o=n.panning.disabled,i=e&&t&&!o;return!!i},Ho=function(r,e){var t=r.transformState,n=t.positionX,o=t.positionY;r.isPanning=!0;var i=e.clientX,a=e.clientY;r.startCoords={x:i-n,y:a-o}},Vo=function(r,e){var t=e.touches,n=r.transformState,o=n.positionX,i=n.positionY;r.isPanning=!0;var a=t.length===1;if(a){var s=t[0].clientX,d=t[0].clientY;r.startCoords={x:s-o,y:d-i}}};function $o(r){var e=r.transformState,t=e.positionX,n=e.positionY,o=e.scale,i=r.setup,a=i.disabled,s=i.limitToBounds,d=i.centerZoomedOut,u=r.wrapperComponent;if(!(a||!u||!r.bounds)){var c=r.bounds,m=c.maxPositionX,f=c.minPositionX,p=c.maxPositionY,g=c.minPositionY,v=t>m||t<f,h=n>p||n<g,w=t>m?u.offsetWidth:r.setup.minPositionX||0,x=n>p?u.offsetHeight:r.setup.minPositionY||0,S=Ye(r,w,x,o,r.bounds,s||d),N=S.x,j=S.y;return{scale:o,positionX:v?N:t,positionY:h?j:n}}}function xr(r,e,t,n,o){var i=r.setup.limitToBounds,a=r.wrapperComponent,s=r.bounds,d=r.transformState,u=d.scale,c=d.positionX,m=d.positionY;if(!(a===null||s===null||e===c&&t===m)){var f=xe(e,t,s,i,n,o,a),p=f.x,g=f.y;r.setTransformState(u,p,g)}}var Fo=function(r,e,t){var n=r.startCoords,o=r.transformState,i=r.setup.panning,a=i.lockAxisX,s=i.lockAxisY,d=o.positionX,u=o.positionY;if(!n)return{x:d,y:u};var c=e-n.x,m=t-n.y,f=a?d:c,p=s?u:m;return{x:f,y:p}},de=function(r,e){var t=r.setup,n=r.transformState,o=n.scale,i=t.minScale,a=t.disablePadding;return e>0&&o>=i&&!a?e:0},Zo=function(r){var e=r.mounted,t=r.setup,n=t.disabled,o=t.velocityAnimation,i=r.transformState.scale,a=o.disabled,s=!a||i>1||!n||e;return!!s},Uo=function(r){var e=r.mounted,t=r.velocity,n=r.bounds,o=r.setup,i=o.disabled,a=o.velocityAnimation,s=r.transformState.scale,d=a.disabled,u=!d||s>1||!i||e;return!(!u||!t||!n)};function Ko(r,e){var t=r.setup.velocityAnimation,n=t.equalToMove,o=t.animationTime,i=t.sensitivity;return n?o*e*i:o}function xt(r,e,t,n,o,i,a,s,d,u){if(o){if(e>a&&t>a){var c=a+(r-a)*u;return c>d?d:c<a?a:c}if(e<i&&t<i){var c=i+(r-i)*u;return c<s?s:c>i?i:c}}return n?e:$e(r,i,a,o)}function Qo(r,e){var t=1;return e?Math.min(t,r.offsetWidth/window.innerWidth):t}function Go(r,e){var t=Zo(r);if(t){var n=r.lastMousePosition,o=r.velocityTime,i=r.setup,a=r.wrapperComponent,s=i.velocityAnimation.equalToMove,d=Date.now();if(n&&o&&a){var u=Qo(a,s),c=e.x-n.x,m=e.y-n.y,f=c/u,p=m/u,g=d-o,v=c*c+m*m,h=Math.sqrt(v)/g;r.velocity={velocityX:f,velocityY:p,total:h}}r.lastMousePosition=e,r.velocityTime=d}}function Jo(r){var e=r.velocity,t=r.bounds,n=r.setup,o=r.wrapperComponent,i=Uo(r);if(!(!i||!e||!t||!o)){var a=e.velocityX,s=e.velocityY,d=e.total,u=t.maxPositionX,c=t.minPositionX,m=t.maxPositionY,f=t.minPositionY,p=n.limitToBounds,g=n.alignmentAnimation,v=n.zoomAnimation,h=n.panning,w=h.lockAxisY,x=h.lockAxisX,S=v.animationType,N=g.sizeX,j=g.sizeY,_=g.velocityAlignmentTime,T=_,A=Ko(r,d),y=Math.max(A,T),C=de(r,N),Y=de(r,j),L=C*o.offsetWidth/100,B=Y*o.offsetHeight/100,Z=u+L,P=c-L,k=m+B,E=f-B,M=r.transformState,ee=new Date().getTime();Sr(r,S,y,function(U){var K=r.transformState,ge=K.scale,D=K.positionX,z=K.positionY,q=new Date().getTime()-ee,ue=q/T,$=br[g.animationType],H=1-$(Math.min(1,ue)),ne=1-U,ae=D+a*ne,fe=z+s*ne,Ce=xt(ae,M.positionX,D,x,p,c,u,P,Z,H),W=xt(fe,M.positionY,z,w,p,f,m,E,k,H);(D!==ae||z!==fe)&&r.setTransformState(ge,Ce,W)})}}function yt(r,e){var t=r.transformState.scale;I(r),pe(r,t),window.TouchEvent!==void 0&&e instanceof TouchEvent?Vo(r,e):Ho(r,e)}function ot(r,e){var t=r.transformState.scale,n=r.setup,o=n.minScale,i=n.alignmentAnimation,a=i.disabled,s=i.sizeX,d=i.sizeY,u=i.animationTime,c=i.animationType,m=a||t<o||!s&&!d;if(!m){var f=$o(r);f&&ce(r,f,e??u,c)}}function Ct(r,e,t){var n=r.startCoords,o=r.setup,i=o.alignmentAnimation,a=i.sizeX,s=i.sizeY;if(n){var d=Fo(r,e,t),u=d.x,c=d.y,m=de(r,a),f=de(r,s);Go(r,{x:u,y:c}),xr(r,u,c,m,f)}}function qo(r){if(r.isPanning){var e=r.setup.panning.velocityDisabled,t=r.velocity,n=r.wrapperComponent,o=r.contentComponent;r.isPanning=!1,r.animate=!1,r.animation=null;var i=n?.getBoundingClientRect(),a=o?.getBoundingClientRect(),s=i?.width||0,d=i?.height||0,u=a?.width||0,c=a?.height||0,m=s<u||d<c,f=!e&&t&&t?.total>.1&&m;f?Jo(r):ot(r)}}function it(r,e,t,n){var o=r.setup,i=o.minScale,a=o.maxScale,s=o.limitToBounds,d=ye(G(e,2),i,a,0,!1),u=pe(r,d),c=Ye(r,t,n,d,u,s),m=c.x,f=c.y;return{scale:d,positionX:m,positionY:f}}function yr(r,e,t){var n=r.transformState.scale,o=r.wrapperComponent,i=r.setup,a=i.minScale,s=i.limitToBounds,d=i.zoomAnimation,u=d.disabled,c=d.animationTime,m=d.animationType,f=u||n>=a;if((n>=1||s)&&ot(r),!(f||!o||!r.mounted)){var p=e||o.offsetWidth/2,g=t||o.offsetHeight/2,v=it(r,a,p,g);v&&ce(r,v,c,m)}}var le=function(){return le=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},le.apply(this,arguments)};function jt(r,e,t){for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))}var je={scale:1,positionX:0,positionY:0},we={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Fe={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},Cr=function(r){var e,t,n,o;return{previousScale:(e=r.initialScale)!==null&&e!==void 0?e:je.scale,scale:(t=r.initialScale)!==null&&t!==void 0?t:je.scale,positionX:(n=r.initialPositionX)!==null&&n!==void 0?n:je.positionX,positionY:(o=r.initialPositionY)!==null&&o!==void 0?o:je.positionY}},Pt=function(r){var e=le({},we);return Object.keys(r).forEach(function(t){var n=typeof r[t]<"u",o=typeof we[t]<"u";if(o&&n){var i=Object.prototype.toString.call(we[t]),a=i==="[object Object]",s=i==="[object Array]";a?e[t]=le(le({},we[t]),r[t]):s?e[t]=jt(jt([],we[t],!0),r[t]):e[t]=r[t]}}),e},jr=function(r,e,t){var n=r.transformState.scale,o=r.wrapperComponent,i=r.setup,a=i.maxScale,s=i.minScale,d=i.zoomAnimation,u=i.smooth,c=d.size;if(!o)throw new Error("Wrapper is not mounted");var m=u?n*Math.exp(e*t):n+e*t,f=ye(G(m,3),s,a,c,!1);return f};function Pr(r,e,t,n,o){var i=r.wrapperComponent,a=r.transformState,s=a.scale,d=a.positionX,u=a.positionY;if(!i)return console.error("No WrapperComponent found");var c=i.offsetWidth,m=i.offsetHeight,f=(c/2-d)/s,p=(m/2-u)/s,g=jr(r,e,t),v=it(r,g,f,p);if(!v)return console.error("Error during zoom event. New transformation state was not calculated.");ce(r,v,n,o)}function Nr(r,e,t,n){var o=r.setup,i=r.wrapperComponent,a=o.limitToBounds,s=Cr(r.props),d=r.transformState,u=d.scale,c=d.positionX,m=d.positionY;if(i){var f=nt(r,s.scale),p=xe(s.positionX,s.positionY,f,a,0,0,i),g={scale:s.scale,positionX:p.x,positionY:p.y};u===s.scale&&c===s.positionX&&m===s.positionY||(n?.(),ce(r,g,e,t))}}function Io(r,e,t,n){var o=r.getBoundingClientRect(),i=e.getBoundingClientRect(),a=t.getBoundingClientRect(),s=i.x*n.scale,d=i.y*n.scale;return{x:(o.x-a.x+s)/n.scale,y:(o.y-a.y+d)/n.scale}}function ei(r,e,t){var n=r.wrapperComponent,o=r.contentComponent,i=r.transformState,a=r.setup,s=a.limitToBounds,d=a.minScale,u=a.maxScale;if(!n||!o)return i;var c=n.getBoundingClientRect(),m=e.getBoundingClientRect(),f=Io(e,n,o,i),p=f.x,g=f.y,v=m.width/i.scale,h=m.height/i.scale,w=n.offsetWidth/v,x=n.offsetHeight/h,S=ye(t||Math.min(w,x),d,u,0,!1),N=(c.width-v*S)/2,j=(c.height-h*S)/2,_=(c.left-p)*S+N,T=(c.top-g)*S+j,A=nt(r,S),y=xe(_,T,A,s,0,0,n),C=y.x,Y=y.y;return{positionX:C,positionY:Y,scale:S}}var ti=function(r){return function(e,t,n){e===void 0&&(e=.5),t===void 0&&(t=300),n===void 0&&(n="easeOut"),Pr(r,1,e,t,n)}},ri=function(r){return function(e,t,n){e===void 0&&(e=.5),t===void 0&&(t=300),n===void 0&&(n="easeOut"),Pr(r,-1,e,t,n)}},ni=function(r){return function(e,t,n,o,i){o===void 0&&(o=300),i===void 0&&(i="easeOut");var a=r.transformState,s=a.positionX,d=a.positionY,u=a.scale,c=r.wrapperComponent,m=r.contentComponent,f=r.setup.disabled;if(!(f||!c||!m)){var p={positionX:Number.isNaN(e)?s:e,positionY:Number.isNaN(t)?d:t,scale:Number.isNaN(n)?u:n};ce(r,p,o,i)}}},oi=function(r){return function(e,t){e===void 0&&(e=200),t===void 0&&(t="easeOut"),Nr(r,e,t)}},ii=function(r){return function(e,t,n){t===void 0&&(t=200),n===void 0&&(n="easeOut");var o=r.transformState,i=r.wrapperComponent,a=r.contentComponent;if(i&&a){var s=kr(e||o.scale,i,a);ce(r,s,t,n)}}},ai=function(r){return function(e,t,n,o){n===void 0&&(n=600),o===void 0&&(o="easeOut"),I(r);var i=r.wrapperComponent,a=typeof e=="string"?document.getElementById(e):e;if(i&&a&&i.contains(a)){var s=ei(r,a,t);ce(r,s,n,o)}}},Ze=function(r){return{instance:r,zoomIn:ti(r),zoomOut:ri(r),setTransform:ni(r),resetTransform:oi(r),centerView:ii(r),zoomToElement:ai(r)}},si=function(r){return{instance:r,state:r.transformState}},R=function(r){var e={};return Object.assign(e,si(r)),Object.assign(e,Ze(r)),e},Le=!1;function Be(){try{var r={get passive(){return Le=!0,!1}};return r}catch{return Le=!1,Le}}var Pe=".".concat(Fe.wrapperClass),Oe=function(r,e){return e.some(function(t){return r.matches("".concat(Pe," ").concat(t,", ").concat(Pe," .").concat(t,", ").concat(Pe," ").concat(t," *, ").concat(Pe," .").concat(t," *"))})},Ue=function(r){r&&clearTimeout(r)},li=function(r,e,t){return"translate(".concat(r,"px, ").concat(e,"px) scale(").concat(t,")")},kr=function(r,e,t){var n=t.offsetWidth*r,o=t.offsetHeight*r,i=(e.offsetWidth-n)/2,a=(e.offsetHeight-o)/2;return{scale:r,positionX:i,positionY:a}};function di(r){return function(e){r.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ci=function(r,e){var t=r.setup.wheel,n=t.disabled,o=t.wheelDisabled,i=t.touchPadDisabled,a=t.excluded,s=r.isInitialized,d=r.isPanning,u=e.target,c=s&&!d&&!n&&u;if(!c||o&&!e.ctrlKey||i&&e.ctrlKey)return!1;var m=Oe(u,a);return!m},ui=function(r){return r?r.deltaY<0?1:-1:0};function fi(r,e){var t=ui(r),n=jo(e,t);return n}function _r(r,e,t){var n=e.getBoundingClientRect(),o=0,i=0;if("clientX"in r)o=(r.clientX-n.left)/t,i=(r.clientY-n.top)/t;else{var a=r.touches[0];o=(a.clientX-n.left)/t,i=(a.clientY-n.top)/t}return(Number.isNaN(o)||Number.isNaN(i))&&console.error("No mouse or touch offset found"),{x:o,y:i}}var mi=function(r,e,t,n,o){var i=r.transformState.scale,a=r.wrapperComponent,s=r.setup,d=s.maxScale,u=s.minScale,c=s.zoomAnimation,m=s.disablePadding,f=c.size,p=c.disabled;if(!a)throw new Error("Wrapper is not mounted");var g=i+e*t,v=n?!1:!p,h=ye(G(g,3),u,d,f,v&&!m);return h},pi=function(r,e){var t=r.previousWheelEvent,n=r.transformState.scale,o=r.setup,i=o.maxScale,a=o.minScale;return t?n<i||n>a||Math.sign(t.deltaY)!==Math.sign(e.deltaY)||t.deltaY>0&&t.deltaY<e.deltaY||t.deltaY<0&&t.deltaY>e.deltaY||Math.sign(t.deltaY)!==Math.sign(e.deltaY):!1},hi=function(r,e){var t=r.setup.pinch,n=t.disabled,o=t.excluded,i=r.isInitialized,a=e.target,s=i&&!n&&a;if(!s)return!1;var d=Oe(a,o);return!d},vi=function(r){var e=r.setup.pinch.disabled,t=r.isInitialized,n=r.pinchStartDistance,o=t&&!e&&n;return!!o},gi=function(r,e,t){var n=t.getBoundingClientRect(),o=r.touches,i=G(o[0].clientX-n.left,5),a=G(o[0].clientY-n.top,5),s=G(o[1].clientX-n.left,5),d=G(o[1].clientY-n.top,5);return{x:(i+s)/2/e,y:(a+d)/2/e}},Tr=function(r){return Math.sqrt(Math.pow(r.touches[0].pageX-r.touches[1].pageX,2)+Math.pow(r.touches[0].pageY-r.touches[1].pageY,2))},bi=function(r,e){var t=r.pinchStartScale,n=r.pinchStartDistance,o=r.setup,i=o.maxScale,a=o.minScale,s=o.zoomAnimation,d=o.disablePadding,u=s.size,c=s.disabled;if(!t||n===null||!e)throw new Error("Pinch touches distance was not provided");if(e<0)return r.transformState.scale;var m=e/n,f=m*t;return ye(G(f,2),a,i,u,!c&&!d)},wi=160,Si=100,xi=function(r,e){var t=r.props,n=t.onWheelStart,o=t.onZoomStart;r.wheelStopEventTimer||(I(r),O(R(r),e,n),O(R(r),e,o))},yi=function(r,e){var t=r.props,n=t.onWheel,o=t.onZoom,i=r.contentComponent,a=r.setup,s=r.transformState,d=s.scale,u=a.limitToBounds,c=a.centerZoomedOut,m=a.zoomAnimation,f=a.wheel,p=a.disablePadding,g=a.smooth,v=m.size,h=m.disabled,w=f.step,x=f.smoothStep;if(!i)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var S=fi(e,null),N=g?x*Math.abs(e.deltaY):w,j=mi(r,S,N,!e.ctrlKey);if(d!==j){var _=pe(r,j),T=_r(e,i,d),A=h||v===0||c||p,y=u&&A,C=Ye(r,T.x,T.y,j,_,y),Y=C.x,L=C.y;r.previousWheelEvent=e,r.setTransformState(j,Y,L),O(R(r),e,n),O(R(r),e,o)}},Ci=function(r,e){var t=r.props,n=t.onWheelStop,o=t.onZoomStop;Ue(r.wheelAnimationTimer),r.wheelAnimationTimer=setTimeout(function(){r.mounted&&(yr(r,e.x,e.y),r.wheelAnimationTimer=null)},Si);var i=pi(r,e);i&&(Ue(r.wheelStopEventTimer),r.wheelStopEventTimer=setTimeout(function(){r.mounted&&(r.wheelStopEventTimer=null,O(R(r),e,n),O(R(r),e,o))},wi))},Ar=function(r){for(var e=0,t=0,n=0;n<2;n+=1)e+=r.touches[n].clientX,t+=r.touches[n].clientY;var o=e/2,i=t/2;return{x:o,y:i}},ji=function(r,e){var t=Tr(e);r.pinchStartDistance=t,r.lastDistance=t,r.pinchStartScale=r.transformState.scale,r.isPanning=!1;var n=Ar(e);r.pinchLastCenterX=n.x,r.pinchLastCenterY=n.y,I(r)},Pi=function(r,e){var t=r.contentComponent,n=r.pinchStartDistance,o=r.wrapperComponent,i=r.transformState.scale,a=r.setup,s=a.limitToBounds,d=a.centerZoomedOut,u=a.zoomAnimation,c=a.alignmentAnimation,m=u.disabled,f=u.size;if(!(n===null||!t)){var p=gi(e,i,t);if(!(!Number.isFinite(p.x)||!Number.isFinite(p.y))){var g=Tr(e),v=bi(r,g),h=Ar(e),w=h.x-(r.pinchLastCenterX||0),x=h.y-(r.pinchLastCenterY||0);if(!(v===i&&w===0&&x===0)){r.pinchLastCenterX=h.x,r.pinchLastCenterY=h.y;var S=pe(r,v),N=m||f===0||d,j=s&&N,_=Ye(r,p.x,p.y,v,S,j),T=_.x,A=_.y;r.pinchMidpoint=p,r.lastDistance=g;var y=c.sizeX,C=c.sizeY,Y=de(r,y),L=de(r,C),B=T+w,Z=A+x,P=xe(B,Z,S,s,Y,L,o),k=P.x,E=P.y;r.setTransformState(v,k,E)}}}},Ni=function(r){var e=r.pinchMidpoint;r.velocity=null,r.lastDistance=null,r.pinchMidpoint=null,r.pinchStartScale=null,r.pinchStartDistance=null,yr(r,e?.x,e?.y)},Er=function(r,e){var t=r.props.onZoomStop,n=r.setup.doubleClick.animationTime;Ue(r.doubleClickStopEventTimer),r.doubleClickStopEventTimer=setTimeout(function(){r.doubleClickStopEventTimer=null,O(R(r),e,t)},n)},ki=function(r,e){var t=r.props,n=t.onZoomStart,o=t.onZoom,i=r.setup.doubleClick,a=i.animationTime,s=i.animationType;O(R(r),e,n),Nr(r,a,s,function(){return O(R(r),e,o)}),Er(r,e)};function _i(r,e){return r==="toggle"?e===1?1:-1:r==="zoomOut"?-1:1}function Ti(r,e){var t=r.setup,n=r.doubleClickStopEventTimer,o=r.transformState,i=r.contentComponent,a=o.scale,s=r.props,d=s.onZoomStart,u=s.onZoom,c=t.doubleClick,m=c.disabled,f=c.mode,p=c.step,g=c.animationTime,v=c.animationType;if(!m&&!n){if(f==="reset")return ki(r,e);if(!i)return console.error("No ContentComponent found");var h=_i(f,r.transformState.scale),w=jr(r,h,p);if(a!==w){O(R(r),e,d);var x=_r(e,i,a),S=it(r,w,x.x,x.y);if(!S)return console.error("Error during zoom event. New transformation state was not calculated.");O(R(r),e,u),ce(r,S,g,v),Er(r,e)}}}var Ai=function(r,e){var t=r.isInitialized,n=r.setup,o=r.wrapperComponent,i=n.doubleClick,a=i.disabled,s=i.excluded,d=e.target,u=o?.contains(d),c=t&&d&&u&&!a;if(!c)return!1;var m=Oe(d,s);return!m},Ei=(function(){function r(e){var t=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){t.initializeWindowEvents()},this.unmount=function(){t.cleanupWindowEvents()},this.update=function(n){t.props=n,pe(t,t.transformState.scale),t.setup=Pt(n)},this.initializeWindowEvents=function(){var n,o,i=Be(),a=(n=t.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,s=a?.defaultView;(o=t.wrapperComponent)===null||o===void 0||o.addEventListener("wheel",t.onWheelPanning,i),s?.addEventListener("mousedown",t.onPanningStart,i),s?.addEventListener("mousemove",t.onPanning,i),s?.addEventListener("mouseup",t.onPanningStop,i),a?.addEventListener("mouseleave",t.clearPanning,i),s?.addEventListener("keyup",t.setKeyUnPressed,i),s?.addEventListener("keydown",t.setKeyPressed,i)},this.cleanupWindowEvents=function(){var n,o,i=Be(),a=(n=t.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,s=a?.defaultView;s?.removeEventListener("mousedown",t.onPanningStart,i),s?.removeEventListener("mousemove",t.onPanning,i),s?.removeEventListener("mouseup",t.onPanningStop,i),a?.removeEventListener("mouseleave",t.clearPanning,i),s?.removeEventListener("keyup",t.setKeyUnPressed,i),s?.removeEventListener("keydown",t.setKeyPressed,i),document.removeEventListener("mouseleave",t.clearPanning,i),I(t),(o=t.observer)===null||o===void 0||o.disconnect()},this.handleInitializeWrapperEvents=function(n){var o=Be();n.addEventListener("wheel",t.onWheelZoom,o),n.addEventListener("dblclick",t.onDoubleClick,o),n.addEventListener("touchstart",t.onTouchPanningStart,o),n.addEventListener("touchmove",t.onTouchPanning,o),n.addEventListener("touchend",t.onTouchPanningStop,o)},this.handleInitialize=function(n,o){var i=!1,a=t.setup.centerOnInit,s=function(d,u){for(var c=0,m=d;c<m.length;c++){var f=m[c];if(f.target===u)return!0}return!1};t.applyTransformation(),t.onInitCallbacks.forEach(function(d){d(R(t))}),t.observer=new ResizeObserver(function(d){if(s(d,n)||s(d,o))if(a&&!i){var u=o.offsetWidth,c=o.offsetHeight;(u>0||c>0)&&(i=!0,t.setCenter())}else I(t),pe(t,t.transformState.scale),ot(t,0)}),t.observer.observe(n),t.observer.observe(o)},this.onWheelZoom=function(n){var o=t.setup.disabled;if(!o){var i=ci(t,n);if(i){var a=t.isPressingKeys(t.setup.wheel.activationKeys);a&&(xi(t,n),yi(t,n),Ci(t,n))}}},this.onWheelPanning=function(n){var o=t.setup,i=o.disabled,a=o.wheel,s=o.panning;if(!(!t.wrapperComponent||!t.contentComponent||i||!a.wheelDisabled||s.disabled||!s.wheelPanning||n.ctrlKey)){n.preventDefault(),n.stopPropagation();var d=t.transformState,u=d.positionX,c=d.positionY,m=u-n.deltaX,f=c-n.deltaY,p=s.lockAxisX?u:m,g=s.lockAxisY?c:f,v=t.setup.alignmentAnimation,h=v.sizeX,w=v.sizeY,x=de(t,h),S=de(t,w);p===u&&g===c||xr(t,p,g,x,S)}},this.onPanningStart=function(n){var o=t.setup.disabled,i=t.props.onPanningStart;if(!o){var a=wt(t,n);if(a){var s=t.isPressingKeys(t.setup.panning.activationKeys);s&&(n.button===0&&!t.setup.panning.allowLeftClickPan||n.button===1&&!t.setup.panning.allowMiddleClickPan||n.button===2&&!t.setup.panning.allowRightClickPan||(n.preventDefault(),n.stopPropagation(),I(t),yt(t,n),O(R(t),n,i)))}}},this.onPanning=function(n){var o=t.setup.disabled,i=t.props.onPanning;if(!o){var a=St(t);if(a){var s=t.isPressingKeys(t.setup.panning.activationKeys);s&&(n.preventDefault(),n.stopPropagation(),Ct(t,n.clientX,n.clientY),O(R(t),n,i))}}},this.onPanningStop=function(n){var o=t.props.onPanningStop;t.isPanning&&(qo(t),O(R(t),n,o))},this.onPinchStart=function(n){var o=t.setup.disabled,i=t.props,a=i.onPinchingStart,s=i.onZoomStart;if(!o){var d=hi(t,n);d&&(ji(t,n),I(t),O(R(t),n,a),O(R(t),n,s))}},this.onPinch=function(n){var o=t.setup.disabled,i=t.props,a=i.onPinching,s=i.onZoom;if(!o){var d=vi(t);d&&(n.preventDefault(),n.stopPropagation(),Pi(t,n),O(R(t),n,a),O(R(t),n,s))}},this.onPinchStop=function(n){var o=t.props,i=o.onPinchingStop,a=o.onZoomStop;t.pinchStartScale&&(Ni(t),O(R(t),n,i),O(R(t),n,a))},this.onTouchPanningStart=function(n){var o=t.setup.disabled,i=t.props.onPanningStart;if(!o){var a=wt(t,n);if(a){var s=t.lastTouch&&+new Date-t.lastTouch<200&&n.touches.length===1;if(!s){t.lastTouch=+new Date,I(t);var d=n.touches,u=d.length===1,c=d.length===2;u&&(I(t),yt(t,n),O(R(t),n,i)),c&&t.onPinchStart(n)}}}},this.onTouchPanning=function(n){var o=t.setup.disabled,i=t.props.onPanning;if(t.isPanning&&n.touches.length===1){if(o)return;var a=St(t);if(!a)return;n.preventDefault(),n.stopPropagation();var s=n.touches[0];Ct(t,s.clientX,s.clientY),O(R(t),n,i)}else n.touches.length>1&&t.onPinch(n)},this.onTouchPanningStop=function(n){t.onPanningStop(n),t.onPinchStop(n)},this.onDoubleClick=function(n){var o=t.setup.disabled;if(!o){var i=Ai(t,n);i&&Ti(t,n)}},this.clearPanning=function(n){t.isPanning&&t.onPanningStop(n)},this.setKeyPressed=function(n){t.pressedKeys[n.key]=!0},this.setKeyUnPressed=function(n){t.pressedKeys[n.key]=!1},this.isPressingKeys=function(n){return n.length?!!n.find(function(o){return t.pressedKeys[o]}):!0},this.setTransformState=function(n,o,i){var a=t.props.onTransformed;if(!Number.isNaN(n)&&!Number.isNaN(o)&&!Number.isNaN(i)){n!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=n),t.transformState.positionX=o,t.transformState.positionY=i,t.applyTransformation();var s=R(t);t.onChangeCallbacks.forEach(function(d){return d(s)}),O(s,{scale:n,positionX:o,positionY:i},a)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var n=kr(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(n.scale,n.positionX,n.positionY)}},this.handleTransformStyles=function(n,o,i){return t.props.customTransform?t.props.customTransform(n,o,i):li(n,o,i)},this.applyTransformation=function(){if(!(!t.mounted||!t.contentComponent)){var n=t.transformState,o=n.scale,i=n.positionX,a=n.positionY,s=t.handleTransformStyles(i,a,o);t.contentComponent.style.transform=s}},this.getContext=function(){return R(t)},this.onChange=function(n){return t.onChangeCallbacks.has(n)||t.onChangeCallbacks.add(n),function(){t.onChangeCallbacks.delete(n)}},this.onInit=function(n){return t.onInitCallbacks.has(n)||t.onInitCallbacks.add(n),function(){t.onInitCallbacks.delete(n)}},this.init=function(n,o){t.cleanupWindowEvents(),t.wrapperComponent=n,t.contentComponent=o,pe(t,t.transformState.scale),t.handleInitializeWrapperEvents(n),t.handleInitialize(n,o),t.initializeWindowEvents(),t.isInitialized=!0;var i=R(t);O(i,void 0,t.props.onInit)},this.props=e,this.setup=Pt(this.props),this.transformState=Cr(this.props)}return r})(),at=he.createContext(null),Ri=function(r,e){return typeof r=="function"?r(e):r},Yi=he.forwardRef(function(r,e){var t=b.useRef(new Ei(r)).current,n=Ri(r.children,Ze(t));return b.useImperativeHandle(e,function(){return Ze(t)},[t]),b.useEffect(function(){t.update(r)},[t,r]),he.createElement(at.Provider,{value:t},n)});he.forwardRef(function(r,e){var t=b.useRef(null),n=b.useContext(at);return b.useEffect(function(){return n.onChange(function(o){if(t.current){var i=0,a=0;t.current.style.transform=n.handleTransformStyles(i,a,1/o.instance.transformState.scale)}})},[n]),he.createElement("div",le({},r,{ref:di([t,e])}))});function Oi(r,e){e===void 0&&(e={});var t=e.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t==="top"&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=r:o.appendChild(document.createTextNode(r))}}var Xi=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,Nt={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};Oi(Xi);var Di=function(r){var e=r.children,t=r.wrapperClass,n=t===void 0?"":t,o=r.contentClass,i=o===void 0?"":o,a=r.wrapperStyle,s=r.contentStyle,d=r.wrapperProps,u=d===void 0?{}:d,c=r.contentProps,m=c===void 0?{}:c,f=b.useContext(at),p=f.init,g=f.cleanupWindowEvents,v=b.useRef(null),h=b.useRef(null);return b.useEffect(function(){var w=v.current,x=h.current;return w!==null&&x!==null&&p&&p?.(w,x),function(){g?.()}},[]),he.createElement("div",le({},u,{ref:v,className:"".concat(Fe.wrapperClass," ").concat(Nt.wrapper," ").concat(n),style:a}),he.createElement("div",le({},m,{ref:h,className:"".concat(Fe.contentClass," ").concat(Nt.content," ").concat(i),style:s}),e))};function Rr(r){const e=X.c(14),{src:t,alt:n,isOpen:o,onClose:i}=r,a=n===void 0?"Image":n;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(pn,{className:"sr-only",children:"Image Viewer"}),e[0]=s):s=e[0];let d;e[1]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(gn,{className:"w-6 h-6"}),e[1]=d):d=e[1];let u;e[2]!==i?(u=l.jsx(Q,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-50 text-white/70 hover:text-white hover:bg-white/10",onClick:i,children:d}),e[2]=i,e[3]=u):u=e[3];let c;e[4]!==a||e[5]!==t?(c=l.jsx(Yi,{initialScale:1,minScale:.5,maxScale:4,centerOnInit:!0,children:p=>{const{zoomIn:g,zoomOut:v,resetTransform:h}=p;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-40 flex gap-1 bg-black/60 backdrop-blur-md rounded-full border border-white/10 p-1.5 shadow-2xl",children:[l.jsx(Q,{variant:"ghost",size:"icon",className:"h-9 w-9 text-white/90 hover:text-white hover:bg-white/20 rounded-full",onClick:()=>v(),children:l.jsx(Rn,{className:"w-4 h-4"})}),l.jsx(Q,{variant:"ghost",size:"icon",className:"h-9 w-9 text-white/90 hover:text-white hover:bg-white/20 rounded-full",onClick:()=>g(),children:l.jsx(An,{className:"w-4 h-4"})}),l.jsx("div",{className:"w-px bg-white/20 my-2 mx-1"}),l.jsx(Q,{variant:"ghost",size:"icon",className:"h-9 w-9 text-white/90 hover:text-white hover:bg-white/20 rounded-full",onClick:()=>h(),children:l.jsx(_n,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"flex-1 w-full h-full cursor-grab active:cursor-grabbing flex items-center justify-center",children:l.jsx(Di,{wrapperClass:"!w-full !h-full flex items-center justify-center",contentClass:"!w-full !h-full flex items-center justify-center",children:l.jsx("img",{src:t,alt:a,className:"max-w-full max-h-full object-contain pointer-events-auto",style:{maxHeight:"80vh"}})})})]})}}),e[4]=a,e[5]=t,e[6]=c):c=e[6];let m;e[7]!==u||e[8]!==c?(m=l.jsxs(hn,{className:"max-w-5xl w-full h-[85vh] p-0 overflow-hidden bg-transparent border-none shadow-none text-white [&>button]:hidden",children:[s,l.jsxs("div",{className:"relative w-full h-full flex flex-col rounded-xl overflow-hidden bg-black/90 backdrop-blur-sm ring-1 ring-white/10",children:[u,c]})]}),e[7]=u,e[8]=c,e[9]=m):m=e[9];let f;return e[10]!==o||e[11]!==i||e[12]!==m?(f=l.jsx(vn,{open:o,onOpenChange:i,children:m}),e[10]=o,e[11]=i,e[12]=m,e[13]=f):f=e[13],f}function zi(r){const e=X.c(18),{type:t,options:n,value:o,onChange:i,disabled:a,showMedia:s}=r,d=s===void 0?!0:s,[u,c]=b.useState(!1),[m,f]=b.useState("");let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=j=>{f(j),c(!0)},e[0]=p):p=e[0];const g=p;let v;e[1]!==a||e[2]!==i||e[3]!==n||e[4]!==d||e[5]!==o?(v={options:n,value:o,onChange:i,disabled:a,showMedia:d,onImageClick:g},e[1]=a,e[2]=i,e[3]=n,e[4]=d,e[5]=o,e[6]=v):v=e[6];const h=v;let w;e[7]!==h||e[8]!==t||e[9]!==o?(w=(()=>{switch(t){case"multiple_choice":{const _=Array.isArray(o)&&o.length>0?o[0]:o;return l.jsx(gr,{...h,value:_})}case"true_false":{const _=Array.isArray(o)&&o.length>0?o[0]:o;return l.jsx(no,{...h,value:_})}case"multiple_selection":return l.jsx(ro,{...h});case"essay":return l.jsx(oo,{...h});case"numerical_input":return l.jsx(io,{...h});case"ordering":return l.jsx(so,{...h});case"matching":return l.jsx(ho,{...h});case"arrange_words":return l.jsx(vo,{...h});default:return l.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-800 flex items-center gap-2",children:[l.jsx(Wt,{className:"w-5 h-5"}),"Tipe soal ",l.jsx("strong",{children:t})," belum didukung untuk ditampilkan."]})}})(),e[7]=h,e[8]=t,e[9]=o,e[10]=w):w=e[10];let x;e[11]===Symbol.for("react.memo_cache_sentinel")?(x=()=>c(!1),e[11]=x):x=e[11];let S;e[12]!==u||e[13]!==m?(S=l.jsx(Rr,{src:m,isOpen:u,onClose:x}),e[12]=u,e[13]=m,e[14]=S):S=e[14];let N;return e[15]!==w||e[16]!==S?(N=l.jsxs(l.Fragment,{children:[w,S]}),e[15]=w,e[16]=S,e[17]=N):N=e[17],N}function Sa({exam:r,session:e,questions:t}){const[n,o]=b.useState(0),[i,a]=b.useState({}),[s,d]=b.useState({}),[u,c]=b.useState(0),[m,f]=b.useState(!1),[p,g]=b.useState(!1),[v,h]=b.useState(""),[w,x]=b.useState(!1),[S,N]=b.useState(!1),j=P=>{h(P),g(!0)},_=b.useRef(Date.now()),T=b.useRef(null);if(!t||t.length===0)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-950",children:l.jsxs(Ne,{className:"w-full max-w-md text-center p-6",children:[l.jsxs(De,{children:[l.jsx(Wt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),l.jsx(lt,{children:"Ujian Tidak Tersedia"})]}),l.jsx(ze,{children:l.jsx("p",{className:"text-muted-foreground",children:"Maaf, sepertinya soal ujian gagal dimuat atau belum tersedia untuk ujian ini."})}),l.jsx(Me,{className:"justify-center",children:l.jsx(Q,{onClick:()=>window.location.reload(),children:"Refresh Halaman"})})]})});b.useEffect(()=>{const P={},k={};if(t.forEach(E=>{E.student_answer!==null&&E.student_answer!==void 0&&E.student_answer!=="null"&&(P[E.detail_id]=E.student_answer),k[E.detail_id]=E.is_flagged}),a(P),d(k),_.current=Date.now(),r.timer_type==="strict"&&e.end_time){const E=new Date(e.end_time).getTime(),M=new Date().getTime();c(Math.max(0,Math.floor((E-M)/1e3)))}},[t,e.end_time,r.timer_type]),b.useEffect(()=>{if(T.current){T.current.innerHTML=t[n]?.content||"",Ur(T.current,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1});const P=T.current.getElementsByTagName("img");Array.from(P).forEach(k=>{k.style.cursor="pointer",k.onclick=()=>j(k.src)})}},[n,t[n]?.content]),b.useEffect(()=>{if(r.timer_type!=="strict")return;const P=setInterval(()=>{c(k=>k<=1?(clearInterval(P),w||(x(!0),Xe.post(We.url({exam:r.id}),{},{onFinish:()=>x(!1)})),0):k-1)},1e3);return()=>clearInterval(P)},[r.id,w,r.timer_type]),b.useEffect(()=>{const P=`exam.presence.${r.id}`;return window.Echo&&window.Echo.join(P).here(k=>{}).joining(k=>{}).leaving(k=>{}),()=>{window.Echo&&window.Echo.leave(P)}},[r.id]);const A=P=>{const k=Math.floor(P/3600),E=Math.floor(P%3600/60),M=P%60;return`${k.toString().padStart(2,"0")}:${E.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}`},y=t.every(P=>{const k=i[P.detail_id];return k==null||k==="null"?!1:typeof k=="string"?k.trim()!=="":Array.isArray(k)?k.length>0:typeof k=="object"?Object.keys(k).length>0:!0}),C=b.useCallback(async(P,k,E=!1)=>{const M=Date.now(),ee=M-_.current,U=Math.round(ee/1e3);if(!(U<0&&!E)){_.current=M,console.log("Sending autosave:",{detailId:P,payload:k,durationSec:U});try{await Yr.post(Br.url({exam:r.id}),{detail_id:P,duration:U,...k}),console.log("Autosave success")}catch(K){console.error("Autosave failed",K)}}},[r.id]),Y=P=>{console.log("Answer Changed:",P);const k=t[n];a(E=>({...E,[k.detail_id]:P})),C(k.detail_id,{answer:P})},L=()=>{const P=t[n],k=!s[P.detail_id];d(E=>({...E,[P.detail_id]:k})),C(P.detail_id,{is_flagged:k})},B=P=>{if(P<0||P>=t.length)return;const k=t[n],E=i[k.detail_id],M=s[k.detail_id];C(k.detail_id,{answer:E??null,is_flagged:M}),o(P),N(!1)},Z=P=>l.jsx(zi,{type:P.type,options:P.options,value:i[P.detail_id],onChange:Y});return l.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex flex-col",children:[l.jsx(Or,{title:`Ujian: ${r.title}`}),l.jsx("header",{className:"sticky top-0 z-30 w-full border-b bg-white dark:bg-slate-900 shadow-sm",children:l.jsxs("div",{className:"container mx-auto px-4 h-14 md:h-16 flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-4",children:l.jsx("div",{className:"font-bold text-base md:text-lg truncate max-w-[150px] md:max-w-md text-slate-800 dark:text-slate-100",children:r.title})}),l.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[r.timer_type==="strict"&&l.jsxs("div",{className:V("flex items-center gap-2 px-3 py-1 md:px-4 md:py-1.5 rounded-full font-mono font-bold text-sm md:text-xl border shadow-sm",u<300?"bg-red-50 text-red-600 border-red-200 animate-pulse":"bg-slate-100 text-slate-700 border-slate-200"),children:[l.jsx(bn,{className:"w-4 h-4 md:w-5 md:h-5"}),A(u)]}),l.jsxs(Mr,{open:m,onOpenChange:f,children:[l.jsx(Wr,{asChild:!0,children:l.jsx(Q,{variant:"outline",size:"icon",className:"md:hidden",children:l.jsx(pt,{className:"w-5 h-5"})})}),l.jsx(Lr,{side:"right",className:"w-[300px] sm:w-[350px] p-0",children:l.jsx(kt,{questions:t,currentIndex:n,answers:i,flagged:s,onSelect:P=>{B(P),f(!1)}})})]})]})]})}),l.jsxs("div",{className:"flex-1 container mx-auto px-4 py-4 md:py-6 flex gap-6 max-w-7xl",children:[l.jsx("main",{className:"flex-1 w-full min-w-0",children:l.jsxs(Ne,{className:"h-full flex flex-col shadow-md border-slate-200 dark:border-slate-800",children:[l.jsx(De,{className:"flex flex-row items-center justify-between space-y-0 pb-4 border-b bg-white dark:bg-slate-900 sticky top-0 z-10",children:l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs(dt,{variant:"secondary",className:"text-sm md:text-base px-3 md:px-4 py-1 font-bold bg-slate-100 text-slate-700 border-slate-200",children:["SOAL NO. ",n+1]})})}),l.jsx(tt,{className:"flex-1 bg-white dark:bg-slate-900",children:l.jsxs(ze,{className:"p-4 md:p-10 space-y-6 md:space-y-10",children:[l.jsxs("div",{className:"text-base md:text-lg leading-relaxed text-slate-800 dark:text-slate-200",children:[t[n].media_url&&l.jsx("div",{className:"mb-6",children:l.jsx("img",{src:t[n].media_url,alt:"Question Media",className:"max-h-[200px] md:max-h-[300px] w-auto rounded-lg border shadow-sm cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>j(t[n].media_url)})}),l.jsx("div",{ref:T,className:"exam-content"})]},`question-content-${n}`),l.jsx(ct,{className:"bg-slate-100 dark:bg-slate-800"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider mb-4",children:"Pilih Jawaban:"}),Z(t[n])]}),r.is_hint_visible&&t[n].hint&&l.jsx("div",{className:"mt-8 pt-4 border-t border-dashed border-slate-200 dark:border-slate-800",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>N(!S),className:"self-start gap-2 text-yellow-600 hover:text-yellow-700 hover:bg-yellow-50 dark:text-yellow-500 dark:hover:text-yellow-400 dark:hover:bg-yellow-950/20",children:[l.jsx(mt,{className:V("w-4 h-4",S?"fill-current":"")}),S?"Sembunyikan Bantuan":"Lihat Bantuan (Hint)"]}),S&&l.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-950/10 border border-yellow-200 dark:border-yellow-900/50 rounded-lg p-4 text-sm text-slate-700 dark:text-slate-300 animate-in fade-in slide-in-from-top-2 duration-300",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(mt,{className:"w-5 h-5 text-yellow-500 shrink-0 mt-0.5"}),l.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:t[n].hint}})]})})]})})]})}),l.jsxs(Me,{className:"border-t p-4 md:p-6 flex justify-between bg-slate-50 dark:bg-slate-900/50",children:[l.jsxs(Q,{variant:"outline",size:"lg",onClick:()=>B(n-1),disabled:n===0||w,className:"gap-2 px-4 md:px-6",children:[l.jsx(wn,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:"Sebelumnya"})]}),l.jsxs(Q,{variant:s[t[n].detail_id]?"default":"outline",size:"lg",onClick:L,disabled:w,className:V("gap-2 px-4 md:px-6",s[t[n].detail_id]?"bg-yellow-500 hover:bg-yellow-600 text-white border-yellow-600":"text-slate-600"),children:[l.jsx(Lt,{className:V("w-4 h-4",s[t[n].detail_id]&&"fill-current")}),s[t[n].detail_id]?l.jsx("span",{className:"hidden sm:inline",children:"Ragu-ragu Terpasang"}):l.jsx("span",{className:"hidden sm:inline",children:"Ragu-ragu?"}),s[t[n].detail_id]?l.jsx("span",{className:"sm:hidden",children:"Ragu"}):l.jsx("span",{className:"sm:hidden",children:"Ragu?"})]}),l.jsx("div",{className:"flex gap-2",children:n===t.length-1?l.jsxs(Q,{size:"lg",className:V("px-4 md:px-8 font-bold",y?"bg-green-600 hover:bg-green-700 text-white":"bg-slate-300 text-slate-500 cursor-not-allowed"),disabled:!y||w,onClick:()=>{confirm("Apakah Anda yakin ingin menyelesaikan ujian ini?")&&(x(!0),Xe.post(We.url({exam:r.id}),{},{onFinish:()=>x(!1)}))},children:[l.jsx(Sn,{className:"w-5 h-5 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:y?w?"Menyimpan...":"Selesai & Kumpulkan":"Jawab Semua Soal"}),l.jsx("span",{className:"md:hidden",children:y?"Selesai":"Jawab Semua"})]}):l.jsxs(Q,{size:"lg",onClick:()=>B(n+1),disabled:w,className:"gap-2 px-4 md:px-8 bg-blue-600 hover:bg-blue-700",children:[l.jsx("span",{className:"hidden sm:inline",children:"Selanjutnya"}),l.jsx(Hr,{className:"w-5 h-5"})]})})]})]})}),l.jsx("aside",{className:"hidden lg:block w-80 shrink-0",children:l.jsx("div",{className:"sticky top-24",children:l.jsxs(Ne,{className:"border-slate-200 dark:border-slate-800 shadow-lg bg-white dark:bg-slate-900 overflow-hidden",children:[l.jsx(De,{className:"bg-slate-50 dark:bg-slate-800/50 border-b py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(lt,{className:"text-base font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[l.jsx(pt,{className:"w-4 h-4"}),"Navigasi Soal"]}),l.jsxs(dt,{variant:"outline",className:"bg-white dark:bg-slate-900",children:[Object.keys(i).length,"/",t.length]})]})}),l.jsx(ze,{className:"p-5",children:l.jsx(kt,{questions:t,currentIndex:n,answers:i,flagged:s,onSelect:B})}),l.jsxs(Me,{className:"border-t p-5 bg-slate-50/50 dark:bg-slate-800/30 flex flex-col gap-4",children:[l.jsxs("div",{className:"w-full space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded bg-blue-600"}),l.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Terjawab"})]}),l.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:Object.keys(i).length})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded bg-yellow-500"}),l.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Ragu-ragu"})]}),l.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:Object.values(s).filter(Boolean).length})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded bg-slate-200 dark:bg-slate-700"}),l.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Belum Dijawab"})]}),l.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:t.length-Object.keys(i).length})]})]}),l.jsx(ct,{className:"my-1"}),l.jsxs(Q,{className:V("w-full font-bold h-11",y?"bg-green-600 hover:bg-green-700 text-white":"bg-slate-300 text-slate-500 cursor-not-allowed"),disabled:!y||w,onClick:()=>{confirm("Selesaikan ujian sekarang?")&&(x(!0),Xe.post(We.url({exam:r.id}),{},{onFinish:()=>x(!1)}))},children:[l.jsx(xn,{className:"w-4 h-4 mr-2"}),y?w?"Menyimpan...":"Akhiri Ujian":"Jawab Semua Soal"]})]})]})})})]}),l.jsx(Rr,{src:v,isOpen:p,onClose:()=>g(!1)})]})}function kt(r){const e=X.c(13),{questions:t,currentIndex:n,answers:o,flagged:i,onSelect:a}=r;let s;if(e[0]!==o||e[1]!==n||e[2]!==i||e[3]!==a||e[4]!==t){let u;e[6]!==o||e[7]!==n||e[8]!==i||e[9]!==a?(u=(c,m)=>{const f=o[c.detail_id];let p=!1;f!=null&&f!=="null"&&(typeof f=="string"?p=f.trim()!=="":Array.isArray(f)?p=f.length>0:typeof f=="object"?p=Object.keys(f).length>0:p=!0);const g=i[c.detail_id],v=m===n;return l.jsxs("button",{onClick:()=>a(m),className:V("h-11 w-full rounded-lg text-sm font-bold transition-all border-2 flex items-center justify-center relative",v?"bg-white dark:bg-slate-900 border-blue-600 text-blue-600 shadow-md ring-2 ring-blue-600/20":g?"bg-yellow-500 border-yellow-500 text-white hover:bg-yellow-600":p?"bg-blue-600 border-blue-600 text-white hover:bg-blue-700":"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 hover:bg-slate-200"),children:[m+1,g&&!v&&l.jsx("div",{className:"absolute -top-1.5 -right-1.5 w-4 h-4 bg-yellow-400 rounded-full border-2 border-white dark:border-slate-900 flex items-center justify-center",children:l.jsx(Lt,{className:"w-2 h-2 text-white fill-current"})})]},c.detail_id)},e[6]=o,e[7]=n,e[8]=i,e[9]=a,e[10]=u):u=e[10],s=t.map(u),e[0]=o,e[1]=n,e[2]=i,e[3]=a,e[4]=t,e[5]=s}else s=e[5];let d;return e[11]!==s?(d=l.jsx(tt,{className:"h-[400px] pr-2",children:l.jsx("div",{className:"grid grid-cols-5 gap-2.5",children:s})}),e[11]=s,e[12]=d):d=e[12],d}export{Sa as default};
